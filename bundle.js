!function(){"use strict";function e(e,n){let t=document.createElement("template");t.innerHTML=e;let r=t.content;return n&&8==r.lastChild.nodeType&&r.appendChild(document.createTextNode("")),r}function n(e,n){let t=e.indexOf(n);t>=0&&e.splice(t,1)}function r(e,n){let t;for(;e&&(t=e.nextSibling,e.remove(),e!=n);)e=t}function i(e,n,t,r){return r||(r={}),r.fn=n,r.cb=t,r.value=void 0,e.watchers.push(r),r}function o(e,n,t){return i(e,n,t,{ro:!0})}function s(e){e?this.root=e.root:(this.root=this,this.onceList=[]),this.children=[],this.watchers=[],this.destroyList=[]}Object.assign(s.prototype,{new:function(){var e=new s(this);return this.children.push(e),e},ev:function(e,n,t){e.addEventListener(n,t),this.d(()=>{e.removeEventListener(n,t)})},d:function(e){this.destroyList.push(e)},destroy:function(){this.watchers.length=0,this.destroyList.forEach(e=>{try{e()}catch(e){console.error(e)}}),this.destroyList.length=0,this.children.forEach(e=>{e.destroy()}),this.children.length=0},once:function(e){this.root.onceList.push(e)}});function a(e,n){return((e,n)=>{let t=Array.isArray(e);if(t!==Array.isArray(n))return!0;if(!t)return e!==n;if(e.length!==n.length)return!0;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!0;return!1})(e.value,n)?(Array.isArray(n)?e.value=n.slice():e.value=n,e.cb(e.value),e.ro?0:1):0}const l=(e,n,t)=>{if(t<0)return!1;if(!e||!n)return e!==n;if(!("object"==typeof e)||!("object"==typeof n))return e!==n;let r=Array.isArray(e);if(r!==Array.isArray(n))return!0;if(r){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(l(e[r],n[r],t-1))return!0}else{let t={};for(let r in e){if(l(e[r],n[r]))return!0;t[r]=!0}for(let e in n)if(!t[e])return!0}return!1};function c(e,n){return l(e.value,n,10)?(e.value=function e(n,r){if(!(r<0)){if(!n)return n;if("object"==typeof n){if(n instanceof Date)return n;if(Array.isArray(n))return n.map(n=>e(t,r-1));let i={};for(let t in n)i[t]=e(n[t],r-1);return i}return n}}(n,10),e.cb(e.value),e.ro?0:1):0}function d(e,n){let t,r=10;for(;r>=0;){let n,i,o=0,s=0,a=[],l=e;for(;l;){for(n=0;n<l.watchers.length;n++)t=l.watchers[n],i=t.fn(),t.value!==i&&(t.cmp?o+=t.cmp(t,i):(t.value=i,t.ro||o++,t.cb(t.value)));l.children.length&&a.push.apply(a,l.children),l=a[s++]}if(r--,!o)break}n();let i=e.onceList;e.onceList=[],i.forEach(e=>{try{e()}catch(e){console.error(e)}}),r<0&&console.error("Infinity changes: ",t)}function u(e,t,o,s,a,l,c){let d,u,f;function g(n,r){d=e.new();let i=n.cloneNode(!0);r(d,i),u=i.firstChild,f=i.lastChild,t.parentNode.insertBefore(i,t.nextSibling)}function h(){d&&(n(e.children,d),d.destroy(),d=null,r(u,f),u=f=null)}i(e,o,e=>{e?(h(),g(s,a)):(h(),c&&g(l,c))})}function f(e,n,t={}){const r=Object.assign({tab:"\t",indentOn:/{$/},t);let i,o,s=[],a=[],l=-1,c=!1,d=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;e.setAttribute("contentEditable",d?"true":"plaintext-only"),e.setAttribute("spellcheck","false"),e.style.outline="none",e.style.overflowWrap="break-word",e.style.overflowY="auto",e.style.resize="vertical",e.style.whiteSpace="pre-wrap",n(e);const u=O(()=>{const t=m();n(e),b(t)},30);let f=!1;const g=e=>!N(e)&&!_(e)&&"Meta"!==e.key&&"Control"!==e.key&&"Alt"!==e.key&&!e.key.startsWith("Arrow"),h=O(e=>{g(e)&&(x(),f=!1)},300),p=(n,t)=>{s.push([n,t]),e.addEventListener(n,t)};function m(){const n=window.getSelection(),t={start:0,end:0,dir:void 0};return E(e,e=>{if(e===n.anchorNode&&e===n.focusNode)return t.start+=n.anchorOffset,t.end+=n.focusOffset,t.dir=n.anchorOffset<=n.focusOffset?"->":"<-","stop";if(e===n.anchorNode){if(t.start+=n.anchorOffset,t.dir)return"stop";t.dir="->"}else if(e===n.focusNode){if(t.end+=n.focusOffset,t.dir)return"stop";t.dir="<-"}e.nodeType===Node.TEXT_NODE&&("->"!=t.dir&&(t.start+=e.nodeValue.length),"<-"!=t.dir&&(t.end+=e.nodeValue.length))}),t}function b(n){const t=window.getSelection();let r,i,o=0,s=0;if(n.dir||(n.dir="->"),n.start<0&&(n.start=0),n.end<0&&(n.end=0),"<-"==n.dir){const{start:e,end:t}=n;n.start=t,n.end=e}let a=0;E(e,e=>{if(e.nodeType!==Node.TEXT_NODE)return;const t=(e.nodeValue||"").length;if(a+t>=n.start&&(r||(r=e,o=n.start-a),a+t>=n.end))return i=e,s=n.end-a,"stop";a+=t}),r||(r=e),i||(i=e),"<-"==n.dir&&([r,o,i,s]=[i,s,r,o]),t.setBaseAndExtent(r,o,i,s)}function y(){const n=window.getSelection().getRangeAt(0),t=document.createRange();return t.selectNodeContents(e),t.setEnd(n.startContainer,n.startOffset),t.toString()}function v(){const n=window.getSelection().getRangeAt(0),t=document.createRange();return t.selectNodeContents(e),t.setStart(n.endContainer,n.endOffset),t.toString()}function x(){if(!c)return;const n=e.innerHTML,t=m(),r=a[l];if(r&&r.html===n&&r.pos.start===t.start&&r.pos.end===t.end)return;l++,a[l]={html:n,pos:t},a.splice(l+1);l>300&&(l=300,a.splice(0,1))}function E(e,n){const t=[];e.firstChild&&t.push(e.firstChild);let r=t.pop();for(;r&&"stop"!==n(r);)r.nextSibling&&t.push(r.nextSibling),r.firstChild&&t.push(r.firstChild),r=t.pop()}function w(e){return e.metaKey||e.ctrlKey}function N(e){return w(e)&&!e.shiftKey&&"KeyZ"===e.code}function _(e){return w(e)&&e.shiftKey&&"KeyZ"===e.code}function M(e){e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),document.execCommand("insertHTML",!1,e)}function O(e,n){let t=0;return(...r)=>{clearTimeout(t),t=window.setTimeout(()=>e(...r),n)}}function C(e){let n=e.length-1;for(;n>=0&&"\n"!==e[n];)n--;n++;let t=n;for(;t<e.length&&/[ \t]/.test(e[t]);)t++;return[e.substring(n,t)||"",n,t]}function S(){return e.textContent||""}function R(e){e.preventDefault()}return p("keydown",n=>{n.defaultPrevented||(o=S(),function(e){if("Enter"===e.key){const n=y(),t=v();let[i]=C(n),o=i;if(r.indentOn.test(n)&&(o+=r.tab),(d||o.length>0)&&(R(e),M("\n"+o)),o!==i&&"}"===t[0]){const e=m();M("\n"+i),b(e)}}}(n),function(e){if("Tab"===e.key)if(R(e),e.shiftKey){const e=y();let[n,t]=C(e);if(n.length>0){const e=m(),i=Math.min(r.tab.length,n.length);b({start:t,end:t+i}),document.execCommand("delete"),e.start-=i,e.end-=i,b(e)}}else M(r.tab)}(n),function(e){const n="([{'\"",t=")]}'\"",r=v();if(t.includes(e.key)&&r.substr(0,1)===e.key){const n=m();R(e),n.start=++n.end,b(n)}else if(n.includes(e.key)){const r=m();R(e);M(e.key+t[n.indexOf(e.key)]),r.start=++r.end,b(r)}}(n),function(n){if(N(n)){R(n),l--;const t=a[l];t&&(e.innerHTML=t.html,b(t.pos)),l<0&&(l=0)}if(_(n)){R(n),l++;const t=a[l];t&&(e.innerHTML=t.html,b(t.pos)),l>=a.length&&l--}}(n),g(n)&&!f&&(x(),f=!0))}),p("keyup",e=>{e.defaultPrevented||e.isComposing||(o!==S()&&u(),h(e),i&&i(S()))}),p("focus",e=>{c=!0}),p("blur",e=>{c=!1}),p("paste",t=>{x(),function(t){R(t);const r=(t.originalEvent||t).clipboardData.getData("text/plain"),i=m();M(r),n(e),b({start:i.end+r.length,end:i.end+r.length})}(t),x(),i&&i(S())}),{updateOptions(e){e=Object.assign(Object.assign({},e),e)},updateCode(t){e.textContent=t,n(e)},onUpdate(e){i=e},toString:S,destroy(){for(let[n,t]of s)e.removeEventListener(n,t)}}}function g(e){Object.freeze(e);var n="function"==typeof e;return Object.getOwnPropertyNames(e).forEach((function(t){!Object.hasOwnProperty.call(e,t)||null===e[t]||"object"!=typeof e[t]&&"function"!=typeof e[t]||n&&("caller"===t||"callee"===t||"arguments"===t)||Object.isFrozen(e[t])||g(e[t])})),e}class h{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data}ignoreMatch(){this.ignore=!0}}function p(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function m(e,...n){var t={};for(const n in e)t[n]=e[n];return n.forEach((function(e){for(const n in e)t[n]=e[n]})),t}function b(e){return e.nodeName.toLowerCase()}var y=Object.freeze({__proto__:null,escapeHTML:p,inherit:m,nodeStream:function(e){var n=[];return function e(t,r){for(var i=t.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(n.push({event:"start",offset:r,node:i}),r=e(i,r),b(i).match(/br|hr|img|input/)||n.push({event:"stop",offset:r,node:i}));return r}(e,0),n},mergeStreams:function(e,n,t){var r=0,i="",o=[];function s(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offset<n[0].offset?e:n:"start"===n[0].event?e:n:e.length?e:n}function a(e){i+="<"+b(e)+[].map.call(e.attributes,(function(e){return" "+e.nodeName+'="'+p(e.value)+'"'})).join("")+">"}function l(e){i+="</"+b(e)+">"}function c(e){("start"===e.event?a:l)(e.node)}for(;e.length||n.length;){var d=s();if(i+=p(t.substring(r,d[0].offset)),r=d[0].offset,d===e){o.reverse().forEach(l);do{c(d.splice(0,1)[0]),d=s()}while(d===e&&d.length&&d[0].offset===r);o.reverse().forEach(a)}else"start"===d[0].event?o.push(d[0].node):o.pop(),c(d.splice(0,1)[0])}return i+p(t.substr(r))}});const v=e=>!!e.kind;class x{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=p(e)}openNode(e){if(!v(e))return;let n=e.kind;e.sublanguage||(n=`${this.classPrefix}${n}`),this.span(n)}closeNode(e){v(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class E{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n={kind:e,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return"string"==typeof n?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(n=>this._walk(e,n)),e.closeNode(n)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{E._collapse(e)}))}}class w extends E{constructor(e){super(),this.options=e}addKeyword(e,n){""!==e&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,n){const t=e.root;t.kind=n,t.sublanguage=!0,this.add(t)}toHTML(){return new x(this,this.options).value()}finalize(){return!0}}function N(e){return e?"string"==typeof e?e:e.source:null}const _="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",M={begin:"\\\\[\\s\\S]",relevance:0},O={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[M]},C={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[M]},S={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},R=function(e,n,t={}){var r=m({className:"comment",begin:e,end:n,contains:[]},t);return r.contains.push(S),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},L=R("//","$"),T=R("/\\*","\\*/"),A=R("#","$"),k={className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},B={className:"number",begin:_,relevance:0},D={className:"number",begin:"\\b(0b[01]+)",relevance:0},I={className:"number",begin:"\\b\\d+(\\.\\d+)?(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},j={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[M,{begin:/\[/,end:/\]/,relevance:0,contains:[M]}]}]},P={className:"title",begin:"[a-zA-Z]\\w*",relevance:0},z={className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},H={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var $=Object.freeze({__proto__:null,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:_,BINARY_NUMBER_RE:"\\b(0b[01]+)",RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const n=/^#![ ]*\//;return e.binary&&(e.begin=function(...e){return e.map(e=>N(e)).join("")}(n,/.*\b/,e.binary,/\b.*/)),m({className:"meta",begin:n,end:/$/,relevance:0,"on:begin":(e,n)=>{0!==e.index&&n.ignoreMatch()}},e)},BACKSLASH_ESCAPE:M,APOS_STRING_MODE:O,QUOTE_STRING_MODE:C,PHRASAL_WORDS_MODE:S,COMMENT:R,C_LINE_COMMENT_MODE:L,C_BLOCK_COMMENT_MODE:T,HASH_COMMENT_MODE:A,NUMBER_MODE:k,C_NUMBER_MODE:B,BINARY_NUMBER_MODE:D,CSS_NUMBER_MODE:I,REGEXP_MODE:j,TITLE_MODE:P,UNDERSCORE_TITLE_MODE:z,METHOD_GUARD:H,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})}}),U="of and for in not or if then".split(" ");function K(e){function n(n,t){return new RegExp(N(n),"m"+(e.case_insensitive?"i":"")+(t?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,n){n.position=this.position++,this.matchIndexes[this.matchAt]=n,this.regexes.push([n,e]),this.matchAt+=function(e){return new RegExp(e.toString()+"|").exec("").length-1}(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=n(function(e,n="|"){for(var t=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,i="",o=0;o<e.length;o++){var s=r+=1,a=N(e[o]);for(o>0&&(i+=n),i+="(";a.length>0;){var l=t.exec(a);if(null==l){i+=a;break}i+=a.substring(0,l.index),a=a.substring(l.index+l[0].length),"\\"===l[0][0]&&l[1]?i+="\\"+String(Number(l[1])+s):(i+=l[0],"("===l[0]&&r++)}i+=")"}return i}(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const n=this.matcherRe.exec(e);if(!n)return null;const t=n.findIndex((e,n)=>n>0&&void 0!==e),r=this.matchIndexes[t];return n.splice(0,t),Object.assign(n,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const n=new t;return this.rules.slice(e).forEach(([e,t])=>n.addRule(e,t)),n.compile(),this.multiRegexes[e]=n,n}considerAll(){this.regexIndex=0}addRule(e,n){this.rules.push([e,n]),"begin"===n.type&&this.count++}exec(e){const n=this.getMatcher(this.regexIndex);n.lastIndex=this.lastIndex;const t=n.exec(e);return t&&(this.regexIndex+=t.position+1,this.regexIndex===this.count&&(this.regexIndex=0)),t}}function i(e,n){const t=e.input[e.index-1],r=e.input[e.index+e[0].length];"."!==t&&"."!==r||n.ignoreMatch()}if(e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return function t(o,s){const a=o;if(o.compiled)return a;o.compiled=!0,o.__beforeBegin=null,o.keywords=o.keywords||o.beginKeywords;let l=null;if("object"==typeof o.keywords&&(l=o.keywords.$pattern,delete o.keywords.$pattern),o.keywords&&(o.keywords=function(e,n){var t={};"string"==typeof e?r("keyword",e):Object.keys(e).forEach((function(n){r(n,e[n])}));return t;function r(e,r){n&&(r=r.toLowerCase()),r.split(" ").forEach((function(n){var r=n.split("|");t[r[0]]=[e,G(r[0],r[1])]}))}}(o.keywords,e.case_insensitive)),o.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return a.keywordPatternRe=n(o.lexemes||l||/\w+/,!0),s&&(o.beginKeywords&&(o.begin="\\b("+o.beginKeywords.split(" ").join("|")+")(?=\\b|\\s)",o.__beforeBegin=i),o.begin||(o.begin=/\B|\b/),a.beginRe=n(o.begin),o.endSameAsBegin&&(o.end=o.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(a.endRe=n(o.end)),a.terminator_end=N(o.end)||"",o.endsWithParent&&s.terminator_end&&(a.terminator_end+=(o.end?"|":"")+s.terminator_end)),o.illegal&&(a.illegalRe=n(o.illegal)),void 0===o.relevance&&(o.relevance=1),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(e){return function(e){e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map((function(n){return m(e,{variants:null},n)})));if(e.cached_variants)return e.cached_variants;if(function e(n){return!!n&&(n.endsWithParent||e(n.starts))}(e))return m(e,{starts:e.starts?m(e.starts):null});if(Object.isFrozen(e))return m(e);return e}("self"===e?o:e)}))),o.contains.forEach((function(e){t(e,a)})),o.starts&&t(o.starts,s),a.matcher=function(e){const n=new r;return e.contains.forEach(e=>n.addRule(e.begin,{rule:e,type:"begin"})),e.terminator_end&&n.addRule(e.terminator_end,{type:"end"}),e.illegal&&n.addRule(e.illegal,{type:"illegal"}),n}(a),a}(e)}function G(e,n){return n?Number(n):function(e){return U.includes(e.toLowerCase())}(e)?0:1}const Z=p,W=m,{nodeStream:F,mergeStreams:X}=y,Q=Symbol("nomatch");var q=function(e){var n=[],t={},r={},i=[],o=!0,s=/(^(<[^>]+>|\t|)+|\n)/gm,a="Could not find the language '{}', did you forget to load/include a language module?";const l={disableAutodetect:!0,name:"Plain text",contains:[]};var c={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:w};function d(e){return c.noHighlightRe.test(e)}function u(e,n,t,r){var i={code:n,language:e};N("before:highlight",i);var o=i.result?i.result:f(i.language,i.code,t,r);return o.code=i.code,N("after:highlight",o),o}function f(e,n,r,i){var s=n;function l(e,n){var t=E.case_insensitive?n[0].toLowerCase():n[0];return Object.prototype.hasOwnProperty.call(e.keywords,t)&&e.keywords[t]}function d(){null!=_.subLanguage?function(){if(""!==C){var e=null;if("string"==typeof _.subLanguage){if(!t[_.subLanguage])return void O.addText(C);e=f(_.subLanguage,C,!0,M[_.subLanguage]),M[_.subLanguage]=e.top}else e=p(C,_.subLanguage.length?_.subLanguage:null);_.relevance>0&&(S+=e.relevance),O.addSublanguage(e.emitter,e.language)}}():function(){if(!_.keywords)return void O.addText(C);let e=0;_.keywordPatternRe.lastIndex=0;let n=_.keywordPatternRe.exec(C),t="";for(;n;){t+=C.substring(e,n.index);const r=l(_,n);if(r){const[e,i]=r;O.addText(t),t="",S+=i,O.addKeyword(n[0],e)}else t+=n[0];e=_.keywordPatternRe.lastIndex,n=_.keywordPatternRe.exec(C)}t+=C.substr(e),O.addText(t)}(),C=""}function u(e){return e.className&&O.openNode(e.className),_=Object.create(e,{parent:{value:_}})}function g(e){return 0===_.matcher.regexIndex?(C+=e[0],1):(T=!0,0)}function m(e){var n=e[0],t=e.rule;const r=new h(t),i=[t.__beforeBegin,t["on:begin"]];for(const t of i)if(t&&(t(e,r),r.ignore))return g(n);return t&&t.endSameAsBegin&&(t.endRe=new RegExp(n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),t.skip?C+=n:(t.excludeBegin&&(C+=n),d(),t.returnBegin||t.excludeBegin||(C=n)),u(t),t.returnBegin?0:n.length}function b(e){var n=e[0],t=s.substr(e.index),r=function e(n,t,r){let i=function(e,n){var t=e&&e.exec(n);return t&&0===t.index}(n.endRe,r);if(i){if(n["on:end"]){const e=new h(n);n["on:end"](t,e),e.ignore&&(i=!1)}if(i){for(;n.endsParent&&n.parent;)n=n.parent;return n}}if(n.endsWithParent)return e(n.parent,t,r)}(_,e,t);if(!r)return Q;var i=_;i.skip?C+=n:(i.returnEnd||i.excludeEnd||(C+=n),d(),i.excludeEnd&&(C=n));do{_.className&&O.closeNode(),_.skip||_.subLanguage||(S+=_.relevance),_=_.parent}while(_!==r.parent);return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),u(r.starts)),i.returnEnd?0:n.length}var y={};function x(n,t){var i=t&&t[0];if(C+=n,null==i)return d(),0;if("begin"===y.type&&"end"===t.type&&y.index===t.index&&""===i){if(C+=s.slice(t.index,t.index+1),!o){const n=new Error("0 width match regex");throw n.languageName=e,n.badRule=y.rule,n}return 1}if(y=t,"begin"===t.type)return m(t);if("illegal"===t.type&&!r){const e=new Error('Illegal lexeme "'+i+'" for mode "'+(_.className||"<unnamed>")+'"');throw e.mode=_,e}if("end"===t.type){var a=b(t);if(a!==Q)return a}if("illegal"===t.type&&""===i)return 1;if(L>1e5&&L>3*t.index){throw new Error("potential infinite loop, way more iterations than matches")}return C+=i,i.length}var E=v(e);if(!E)throw console.error(a.replace("{}",e)),new Error('Unknown language: "'+e+'"');var w=K(E),N="",_=i||w,M={},O=new c.__emitter(c);!function(){for(var e=[],n=_;n!==E;n=n.parent)n.className&&e.unshift(n.className);e.forEach(e=>O.openNode(e))}();var C="",S=0,R=0,L=0,T=!1;try{for(_.matcher.considerAll();;){L++,T?T=!1:(_.matcher.lastIndex=R,_.matcher.considerAll());const e=_.matcher.exec(s);if(!e)break;const n=x(s.substring(R,e.index),e);R=e.index+n}return x(s.substr(R)),O.closeAllNodes(),O.finalize(),N=O.toHTML(),{relevance:S,value:N,language:e,illegal:!1,emitter:O,top:_}}catch(n){if(n.message&&n.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:n.message,context:s.slice(R-100,R+100),mode:n.mode},sofar:N,relevance:0,value:Z(s),emitter:O};if(o)return{illegal:!1,relevance:0,value:Z(s),emitter:O,language:e,top:_,errorRaised:n};throw n}}function p(e,n){n=n||c.languages||Object.keys(t);var r=function(e){const n={relevance:0,emitter:new c.__emitter(c),value:Z(e),illegal:!1,top:l};return n.emitter.addText(e),n}(e),i=r;return n.filter(v).filter(E).forEach((function(n){var t=f(n,e,!1);t.language=n,t.relevance>i.relevance&&(i=t),t.relevance>r.relevance&&(i=r,r=t)})),i.language&&(r.second_best=i),r}function m(e){return c.tabReplace||c.useBR?e.replace(s,e=>"\n"===e?c.useBR?"<br>":e:c.tabReplace?e.replace(/\t/g,c.tabReplace):e):e}function b(e){let n=null;const t=function(e){var n=e.className+" ";n+=e.parentNode?e.parentNode.className:"";const t=c.languageDetectRe.exec(n);if(t){var r=v(t[1]);return r||(console.warn(a.replace("{}",t[1])),console.warn("Falling back to no-highlight mode for this block.",e)),r?t[1]:"no-highlight"}return n.split(/\s+/).find(e=>d(e)||v(e))}(e);if(d(t))return;N("before:highlightBlock",{block:e,language:t}),c.useBR?(n=document.createElement("div"),n.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n")):n=e;const i=n.textContent,o=t?u(t,i,!0):p(i),s=F(n);if(s.length){const e=document.createElement("div");e.innerHTML=o.value,o.value=X(s,F(e),i)}o.value=m(o.value),N("after:highlightBlock",{block:e,result:o}),e.innerHTML=o.value,e.className=function(e,n,t){var i=n?r[n]:t,o=[e.trim()];return e.match(/\bhljs\b/)||o.push("hljs"),e.includes(i)||o.push(i),o.join(" ").trim()}(e.className,t,o.language),e.result={language:o.language,re:o.relevance,relavance:o.relevance},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.relevance,relavance:o.second_best.relevance})}const y=()=>{if(!y.called){y.called=!0;var e=document.querySelectorAll("pre code");n.forEach.call(e,b)}};function v(e){return e=(e||"").toLowerCase(),t[e]||t[r[e]]}function x(e,{languageName:n}){"string"==typeof e&&(e=[e]),e.forEach(e=>{r[e]=n})}function E(e){var n=v(e);return n&&!n.disableAutodetect}function N(e,n){var t=e;i.forEach((function(e){e[t]&&e[t](n)}))}Object.assign(e,{highlight:u,highlightAuto:p,fixMarkup:m,highlightBlock:b,configure:function(e){c=W(c,e)},initHighlighting:y,initHighlightingOnLoad:function(){window.addEventListener("DOMContentLoaded",y,!1)},registerLanguage:function(n,r){var i=null;try{i=r(e)}catch(e){if(console.error("Language definition for '{}' could not be registered.".replace("{}",n)),!o)throw e;console.error(e),i=l}i.name||(i.name=n),t[n]=i,i.rawDefinition=r.bind(null,e),i.aliases&&x(i.aliases,{languageName:n})},listLanguages:function(){return Object.keys(t)},getLanguage:v,registerAliases:x,requireLanguage:function(e){var n=v(e);if(n)return n;throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:E,inherit:W,addPlugin:function(e){i.push(e)}}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString="10.1.1";for(const e in $)"object"==typeof $[e]&&g($[e]);return Object.assign(e,$),e}({});var J=function(e){var n={className:"symbol",begin:"&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;"},t={begin:"\\s",contains:[{className:"meta-keyword",begin:"#?[a-z_][a-z1-9_-]+",illegal:"\\n"}]},r=e.inherit(t,{begin:"\\(",end:"\\)"}),i=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),o=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),s={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<![a-z]",end:">",relevance:10,contains:[t,o,i,r,{begin:"\\[",end:"\\]",contains:[{className:"meta",begin:"<![a-z]",end:">",contains:[t,r,o,i]}]}]},e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},n,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:"<style(?=\\s|>)",end:">",keywords:{name:"style"},contains:[s],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[s],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},s]}]}};const V=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Y=["true","false","null","undefined","NaN","Infinity"],ee=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);function ne(e){return te("(?=",e,")")}function te(...e){return e.map(e=>{return(n=e)?"string"==typeof n?n:n.source:null;var n}).join("")}var re=function(e){var n="[A-Za-z$_][0-9A-Za-z$_]*",t="<>",r="</>",i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/},o={$pattern:"[A-Za-z$_][0-9A-Za-z$_]*",keyword:V.join(" "),literal:Y.join(" "),built_in:ee.join(" ")},s={className:"number",variants:[{begin:"\\b(0[bB][01]+)n?"},{begin:"\\b(0[oO][0-7]+)n?"},{begin:e.C_NUMBER_RE+"n?"}],relevance:0},a={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},l={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,a],subLanguage:"xml"}},c={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,a],subLanguage:"css"}},d={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,a]};a.contains=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,c,d,s,e.REGEXP_MODE];var u=a.contains.concat([{begin:/\(/,end:/\)/,contains:["self"].concat(a.contains,[e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE])},e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]),f={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:u};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,contains:[e.SHEBANG({binary:"node",relevance:5}),{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,c,d,e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,s,{begin:te(/[{,\n]\s*/,ne(te(/(((\/\/.*)|(\/\*(.|\n)*\*\/))\s*)*/,n+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:n+ne("\\s*:"),relevance:0}]},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.REGEXP_MODE,{className:"function",begin:"(\\([^(]*(\\([^(]*(\\([^(]*\\))?\\))?\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:u}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:t,end:r},{begin:i.begin,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:n}),f],illegal:/\[|%/},{begin:/\$[(.]/},e.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor",end:/\{/,excludeEnd:!0},{begin:"(get|set)\\s+(?="+n+"\\()",end:/{/,keywords:"get set",contains:[e.inherit(e.TITLE_MODE,{begin:n}),{begin:/\(\)/},f]}],illegal:/#(?!!)/}};var ie=function(e){var n={begin:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{name:"CSS",case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",illegal:/:/,returnBegin:!0,contains:[{className:"keyword",begin:/@\-?\w[\w]*(\-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:"and or not only",contains:[{begin:/[a-z-]+:/,className:"attribute"},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,n]}]}};function oe(e){return{subLanguage:"xml",contains:[e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:/^(\s*)(<script(\s*context="module")?>)/gm,end:/^(\s*)(<\/script>)/gm,subLanguage:"javascript",excludeBegin:!0,excludeEnd:!0,contains:[{begin:/^(\s*)(\$:)/gm,end:/(\s*)/gm,className:"keyword"}]},{begin:/^(\s*)(<style.*>)/gm,end:/^(\s*)(<\/style>)/gm,subLanguage:"css",excludeBegin:!0,excludeEnd:!0},{begin:/\{/gm,end:/\}/gm,subLanguage:"javascript",contains:[{begin:/[\{]/,end:/[\}]/,skip:!0},{begin:/([#:\/@])(if|else|each|await|then|catch|debug|html)/gm,className:"keyword",relevance:10}]}]}}function se(e){return"function"==typeof e}function ae(e,n){let t=e,r=[];const i=e=>{if(i=t,(n=e)!=n?i==i:n!==i||n&&function(e){return"object"==typeof e}(n)||se(n)){const n=t;t=e,r.forEach(e=>e(t,n))}var n,i};let o=()=>{};return{subscribe:e=>{if(0===r.length){const e=se(n)?n(i):null;se(e)&&(o=e)}return r.push(e),e(t),()=>(e=>{r=r.filter(n=>n!==e),0===r.length&&o()})(e)},set:i,update:e=>i(e(t))}}let le=function(){let e=[{name:"App.html",body:""}];const n=ae(e),t=ae(e[0]),r=ae(["App.html"]);function i(n){return e.findIndex(e=>e.name===n)}function o(e){return-1!==i(e)}function s(n){const t=i(n);return-1!==t&&e[t]}function a(){return e.map(e=>e.name).sort(e=>"App.html"===e.name?-1/0:0)}return{default:"App.html",subscribe:n.subscribe,current:{subscribe:t.subscribe,set(e){if(!o(e))throw new Error(e+" is not exists");t.set(s(e))},save(r){t.update(t=>(function(n,t){const r=i(n);if(-1===r)return!1;e[r].body=t}(t.name,r),n.set(e),t.body=r,t))}},list:{subscribe:r.subscribe},add(t,i){if(o(t))throw new Error(t+" already exists");!function(n,t){e.push({name:n,body:t||""})}(t,i),n.set(e),r.set(a())},delete(l){if(!o(l))throw new Error(l+" is not exists");!function(n){const t=i(n);if(-1===t)return!1;e.splice(t,1)}(l),n.set(e),r.set(a()),t.update(e=>(e.name===l&&(e=s("App.html")),e))},rename(s,l){if(!o(s))throw new Error(s+" is not exists");!function(n,t){const r=i(n);if(-1===r)return!1;e[r].name=t}(s,l),n.set(e),r.set(a()),t.update(e=>(e.name===s&&(e.name=l),e))},get:()=>e,touch(){n.set(e)},set(i){e=i,n.set(e),t.set(s("App.html")),r.set(a())},exists:e=>o(e)}}();function ce(n,t){function r(){r._p||r.planned||(r.planned=!0,setTimeout(()=>{r.planned=!1,r.go()},1))}return null==t&&(t={}),q.registerLanguage("xml",J),q.registerLanguage("javascript",re),q.registerLanguage("css",ie),q.registerLanguage("svelte",oe),function(){let i=new s,o={};function a(e,n){let t=n.childNodes[1];e.once(()=>{let n=function(e){function n(){r(),le.current.save(e.textContent)}r();const t=new f(e,e=>{r(),e.innerHTML=q.highlight("svelte",e.textContent).value});e.addEventListener("input",n);const i=le.current.subscribe(e=>{r(),t.toString()!==e.body&&t.updateCode(e.body)});return{destroy:()=>{r(),e.removeEventListener("input",n),i()}}}(t);n&&n.destroy&&e.d(n.destroy)})}o.destroy=()=>{i.destroy()},r.go=()=>{r._p=!0;try{d(i,()=>r._p=!1)}finally{r._p=!1}};const l="\n\n<div class=\"editor\"></div>\n\n<style>\n    .editor{\n        width: 100%;\n        height: 100%;\n        resize: none;\n        border: 0;\n\n        font-family: 'Source Code Pro', monospace;\n        font-size: 16px;\n        font-weight: 400;\n        letter-spacing: normal;\n        line-height: 20px;\n        padding: 10px;\n        tab-size: 4;\n    }\n</style>";if(t.afterElement){let t=n;n=e(l),a(i,n),t.parentNode.insertBefore(n,t.nextSibling)}else n.innerHTML=l,a(i,n);return r(),o}()}function de(n,t){let r;null==t&&(t={});let l=!1,c=null,f=!1,g=r;function h(){m(),f=!1,g!==r&&p(g)&&le.rename(r,g)}function p(e){return m(),e===r||!!/\.(html|js|json)$/.test(e)&&!le.exists(e)}function m(){m._p||m.planned||(m.planned=!0,setTimeout(()=>{m.planned=!1,m.go()},1))}return le.current.subscribe(({name:e})=>{m(),c=e}),function(){let b=new s,y={};function v(n,t){let i=t.childNodes[1],a=t.childNodes[1].childNodes[1];{let e=i;o(n,()=>!!l,n=>{n?e.classList.add("active"):e.classList.remove("active")})}{let e=i;n.ev(e,"click",e=>{m(),function(){if(m(),l)return!1;le.current.set(r)}()})}{let e=i;o(n,()=>"./"+r,n=>{n?e.setAttribute("title",n):e.removeAttribute("title")})}!function(n,t){let i=e(" ",!0);u(n,t,()=>!!l,e("\n    \x3c!-- #if editing --\x3e\n\n    \x3c!-- #if file !== files.default --\x3e\n",!0),(function(n,t){let i=t.childNodes[1],a=t.childNodes[3];!function(n,t){let i=e("\n        <span> </span>\n    ",!0);u(n,t,()=>!!f,e('\n        <input class="filedit"/>\n    ',!0),(function(e,n){let t=n.childNodes[1];{let n=t;o(e,()=>!p(g),e=>{e?n.classList.add("invalid"):n.classList.remove("invalid")})}{let n=t;e.ev(n,"input",()=>{g=n.value,m()}),o(e,()=>g,e=>{e!=n.value&&(n.value=e)})}{let n=t;e.ev(n,"blur",e=>{m(),h()})}{let n=t;e.ev(n,"keydown",e=>{13==e.keyCode&&(e.preventDefault(),m(),h())})}e.once(()=>{let n=function(e){m();const n=()=>(m(),e.style.width=e.value.length+1+"ch");return e.addEventListener("input",n),n(),setTimeout(()=>{m(),e.focus(),e.setSelectionRange(0,e.value.lastIndexOf("."))},0),{destroy(){m(),e.removeEventListener("input",n)}}}(t);n&&n.destroy&&e.d(n.destroy)})}),i,(function(e,n){let t=n.childNodes[1],i=n.childNodes[1].childNodes[0];{let n=t;e.ev(n,"click",e=>{m(),m(),f||(g=r,r!==le.default&&(f=!0))})}{let n=i;o(e,()=>r,e=>{n.textContent=e})}}))}(n,i),function(n,t){u(n,t,()=>!(r===le.default),e('\n        <span class="delete-file">\x3c!-- Closeicon --\x3e</span>\n    ',!0),(function(n,t){let i=t.childNodes[1],o=t.childNodes[1].childNodes[0];{let e=i;n.ev(e,"click",e=>{var n;m(),n=r,m(),confirm(`Are you really want to delete ${n}?`)&&le.delete(n)})}{let t=function(n,t){function r(){r._p||r.planned||(r.planned=!0,setTimeout(()=>{r.planned=!1,r.go()},1))}return null==t&&(t={}),function(){let i=new s,o={destroy:()=>{i.destroy()}};r.go=()=>{r._p=!0;try{d(i,()=>r._p=!1)}finally{r._p=!1}};const a='<svg style="width:16px; height:16px; fill:currentColor" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"></path>\n</svg>';if(t.afterElement){let t=n;n=e(a),t.parentNode.insertBefore(n,t.nextSibling)}else n.innerHTML=a;return r(),o}()}(o,{afterElement:!0,noMount:!0});t&&(t.destroy&&n.d(t.destroy),t.onMount&&n.once(t.onMount))}}))}(n,a)}),i,(function(e,n){{let t=n.childNodes[0];o(e,()=>"\n    "+r+"\n",e=>{t.textContent=e})}}))}(n,a)}y.destroy=()=>{b.destroy()},m.go=()=>{m._p=!0;try{d(b,()=>m._p=!1)}finally{m._p=!1}};const x="\n\n<div class=\"filetab\">\n\n\x3c!-- #if active --\x3e\n</div>\n\n<style>\n    .filetab{\n        display: inline-block;\n        height: 27px;\n        line-height: 27px;\n        border: none;\n        background-color: var(--color-light);\n        border-radius: 3px 3px 0px 0px;\n        cursor: pointer;\n        margin: 3px 0px 0px 0px;\n        padding: 0px 5px;\n    }\n\n    .filetab.active{\n        background-color: var(--hl-background);\n    }\n\n    .delete-file{\n        color: var(--color-light);\n    }\n\n    .delete-file:hover{\n        color:var(--color-dark);\n    }\n\n    .filedit{\n       padding:1px 3px;\n       font-family: 'Courier New', Courier, monospace;\n       border: 1px solid var(--color-dark);\n    }\n\n    .filedit.invalid{\n        color:red;\n    }\n</style>";if(t.afterElement){let t=n;n=e(x),v(b,n),t.parentNode.insertBefore(n,t.nextSibling)}else n.innerHTML=x,v(b,n);return b.once(()=>{i(b,()=>c===r,e=>{l=e},{cmp:a}),i(b,()=>l,()=>{l||(f=!1)}),m()}),Object.defineProperty(y,"file",{get:function(){return r},set:function(e){r!=e&&(r=e,m())}}),m(),y}()}function ue(t,o){null==o&&(o={});let l=[];function u(){u._p||u.planned||(u.planned=!0,setTimeout(()=>{u.planned=!1,u.go()},1))}return le.list.subscribe(e=>{u(),l=e}),function(){let f=new s,g={};function h(t,o){let s=o.childNodes[1].childNodes[1],d=o.childNodes[1].childNodes[3];!function(t,o){function s(e,n,t,r){!function(e,n){{let r=de(n.childNodes[0],{afterElement:!0,noMount:!0});r&&(r.destroy&&e.d(r.destroy),"file"in r?i(e,()=>t,e=>{r.file=e},{cmp:c,ro:!0}):console.error("Component Filetab doesn't have prop file"),r.onMount&&e.once(r.onMount))}}(e.cd,n),e.reindex=function(e){}}let d=o.parentNode,u=e("\x3c!-- Filetab --\x3e"),f=new Map;i(t,()=>l,e=>{e&&Array.isArray(e)||(e=[]);let i,a,l,c,g=o,h=new Map;if(f.size){let i=new Set;for(let n=0;n<e.length;n++)i.add(e[n]);f.forEach((e,o)=>{i.has(o)||(r(e.first,e.last),e.cd.destroy(),n(t.children,e.cd))}),i.clear()}for(i=0;i<e.length;i++){if(a=e[i],l?(c=l,l=null):c=f.get(a),c){if(g.nextSibling!=c.first){let n=!0;if(i+1<e.length&&g.nextSibling&&(l=f.get(e[i+1]),g.nextSibling.nextSibling===l.first&&(d.replaceChild(c.first,g.nextSibling),n=!1)),n){let e,n=g.nextSibling,t=c.first;for(;t&&(e=t.nextSibling,d.insertBefore(t,n),t!=c.last);)t=e}}c.reindex(i)}else{let e=u.cloneNode(!0);c={cd:t.new()},s(c,e,a),c.first=e.firstChild,c.last=e.lastChild,d.insertBefore(e,g.nextSibling)}g=c.last,h.set(a,c)}f.clear(),f=h},{cmp:a})}(t,s);{let e=d;t.ev(e,"click",e=>{u(),function(){u();let e="Comp",n="";for(;l.includes(`${e}${n}.html`);)n=n?++n:2;e=`${e}${n}.html`,le.add(e),le.current.set(e)}()})}}g.destroy=()=>{f.destroy()},u.go=()=>{u._p=!0;try{d(f,()=>u._p=!1)}finally{u._p=!1}};const p='\n\n<div class="filestabs">\n    \x3c!-- #each list as tab --\x3e\n    <button class="add-file" title="Add component">+</button>\n</div>\n\n<style>\n    .filestabs{\n        height: 30px;\n        background-color: var(--color-gray);\n        padding: 0;\n    }\n    .add-file{\n        background-color: var(--color-gray);\n        color: var(--color-lightest);\n        border: none;\n        font-weight: bold;\n        font-size: 20px;\n        line-height: 30px;\n        width: 30px;\n        height: 30px;\n        padding: 0px;\n        cursor: pointer;\n    }\n</style>';if(o.afterElement){let n=t;t=e(p),h(f,t),n.parentNode.insertBefore(t,n.nextSibling)}else t.innerHTML=p,h(f,t);return u(),g}()}let fe=1;function ge(){return`<!doctype html>\n<html style="height: auto !important">\n\n    <head>\n        <meta charset='utf-8'>\n        <base href='/' />\n    </head>\n\n    <script>\n        (${he.toString()})();\n    <\/script>\n\n    <body></body>\n</html>    \n`}function he(){let e,n,t=[];var r,i;window.addEventListener("message",r=>{r.data.frame_id&&r.data.event&&(e||(e=r.data.frame_id),n||(n=r.source),t.filter(e=>e.event===r.data.event).forEach(e=>e.callback(r.data.data)))}),window.addEventListener("error",t=>{var r,i;r="error",i="[Application] "+t.message.replace(/^[a-z0-9 ]+?: /i,""),n.postMessage({event:r,data:i,frame_id:e},"*")}),r="bundle",i=e=>{document.body.innerText="",new(new Function(e+"; return Component.default;")())(document.body)},t.push({event:r,callback:i})}const pe="https://unpkg.com";async function me(e){try{if(!rollup)throw new Error("[REPL]: Rollup didn't initialized yet");let n=await rollup.rollup({input:"./App.html",external:!1,inlineDynamicImports:!0,plugins:[{name:"rollup_plugin_module_resolver",async resolveId(e,n){return!e.startsWith("./")||n&&!n.startsWith("./")?e.startsWith("./")&&/^https?:\/\//.test(n)?new URL(e,(t=n,"/"===t.slice(-1)||/\.[a-z0-9]+$/.test(t)?t:t+"/")).href:await async function(e){try{let n=await Ee(e);if(!n.ok)throw new Error("Can't find module "+e);return e=n.url}catch(e){throw new Error("[Bundler] "+e.message)}}(`${pe}/${e}`):e;var t}},be(e),{name:"rollup_plugin_download",async load(e){if(!/^https?:\/\//.test(e))return null;try{const n=await Ee(e);return cjs2es.cjs2es(n.body)}catch(n){throw new Error(`[Bundler]: Unable download file ${e}.`)}}},ye()]});return(await n.generate({format:"iife",name:"Component",exports:"named",sourcemap:!1})).output[0].code}catch(e){throw e}}function be(e){return{name:"rollup_plugin_files",async load(n){if(!n.startsWith("./"))return null;n=n.replace(/^\.\//,"");const t=e.find(e=>e.name===n);if(void 0===t)throw new Error(`[Bundler]: File ./${n} does not exist.`);return t.body}}}function ye(){const e={extensions:[".html"]};return{name:"rollup_plugin_malina",async transform(n,t){if(!e.extensions.find(e=>t.endsWith(e)))return null;let r,i={exportDefault:!0,name:t.match(/([^/]+).html$/)[1]};try{r=malina.compile(n,i)}catch(e){throw new Error("[MalinaJS] Compile error: "+e.details)}return{code:r}}}}async function ve(e){const n=await Ee(e);if(!n.ok)throw new Error(n.status);return new Function(n.body.replace(/sourceMappingURL=$/gm,""))}const xe=[];async function Ee(e){if(xe.hasOwnProperty(e))return xe[e];const n=await fetch(e),t={url:n.url,ok:n.ok,status:n.status,body:n.ok?await n.text():""};return xe[e]=t,t}let we=ae(null);function Ne(n,t){null==t&&(t={});let r=()=>{},l=!0;function c({on:e,dispatch:n}){p(),r=e=>(p(),n("bundle",e)),e("error",e=>(p(),we.set(e)))}async function f(e){p(),we.set(null);try{const n=await me(e);r(n)}catch(e){we.set(e.message),console.error(e)}}(async()=>{p(),await async function(){const e=[["rollup","rollup/dist/rollup.browser.js"],["cjs2es","cjs2es"],["acorn","acorn"],["astring","astring/dist/astring.min.js"],["malina","malinajs"]];console.log("Initializing REPL...");for(let n of e){try{(await ve(`${pe}/${n[1]}`))()}catch(e){throw new Error("[REPL]: Can't load dependency: "+n[0])}if(!window[n[0]])throw new Error("[REPL]: Dependency not initialized: "+n[0])}console.log("Rollup v."+rollup.VERSION),console.log("Malina.JS v."+malina.version),console.log("------ REPL READY -------")}(),l=!1,le.touch()})();let g=!1,h=!1;function p(){p._p||p.planned||(p.planned=!0,setTimeout(()=>{p.planned=!1,p.go()},1))}return le.subscribe(e=>{if(p(),!l){if(g)return h=!0;f(e),g=setTimeout(()=>{p(),h&&f(e),g=h=!1},500)}}),function(){let r=new s,f={};function g(n,t){!function(n,t){let r=e('\n\t<iframe title="Result" sandbox="allow-popups-to-escape-sandbox \n                 allow-scripts \n                 allow-popups \n                 allow-forms \n                 allow-pointer-lock \n                 allow-top-navigation \n                 allow-modals \n                 allow-scripts"></iframe>\n',!0);u(n,t,()=>!!l,e("\n    <p>Loading Bundler and Malina compiler...</p>\n",!0),(function(e,n){}),r,(function(e,n){let t=n.childNodes[1];e.once(()=>{let n=function(e,n){const t=fe++;let r=[];const i=e=>{e.data.frame_id&&e.data.event&&e.data.frame_id===t&&r.filter(n=>n.event===e.data.event).forEach(n=>n.callback(e.data.data))},o=(e,n)=>{r.push({event:e,callback:n})},s=(e,n)=>{r=r.filter(t=>t.event!==e||t.callback!==n)},a=(n,r)=>{e.contentWindow.postMessage({event:n,data:r,frame_id:t},"*")};return window.addEventListener("message",i),e.addEventListener("load",()=>a("init")),n({on:o,off:s,dispatch:a}),{destroy(){window.removeEventListener("message",i),r=[]},update(e){r=[],e({on:o,off:s,dispatch:a})}}}(t,c);if(n){if(n.update){let t=i(e,()=>[c],e=>{n.update.apply(n,e)},{cmp:a});t.value=t.fn()}n.destroy&&e.d(n.destroy)}});{let n=t;o(e,()=>ge(),e=>{e?n.setAttribute("srcdoc",e):n.removeAttribute("srcdoc")})}}))}(n,t.childNodes[1])}f.destroy=()=>{r.destroy()},p.go=()=>{p._p=!0;try{d(r,()=>p._p=!1)}finally{p._p=!1}};const h="\n\n\x3c!-- #if loading --\x3e\n\n<style>\n\tiframe{\n\t\twidth: 100%;\n\t\theight: 100%;\n        border: 0\n\t}\n</style>";if(t.afterElement){let t=n;n=e(h),g(r,n),t.parentNode.insertBefore(n,t.nextSibling)}else n.innerHTML=h,g(r,n);return p(),f}()}function _e(){const e=window.location.search.slice(1).split("&").map(e=>e.split("=")).reduce((e,n)=>{const t=n[0];if(!t)return e;let r=!(n.length>1)||n[n.length-1];return"string"==typeof r&&r.includes(",")&&(r=r.split(",")),void 0===e[t]?e[t]=[r]:e[t].push(r),e},{});return Object.entries(e).reduce((e,n)=>(e[n[0]]=n[1].length>1?n[1]:n[1][0],e),{})}let Me={list:{subscribe:ae(null,async e=>{e((await Ce()).sort((e,n)=>Number(e.file.split("-")[0])-Number(n.file.split("-")[0])))}).subscribe},async load(e){const n=await Ce(e);le.set(n.files),function(e){let n=Object.entries(e).map(([e,n])=>`${e}=${n}`).join("&");window.history.pushState({},"",n?"?"+n:"")}({example:e})}};let Oe={};async function Ce(e){if(Oe[e=e||"index.json"])return Oe[e];try{const n=await fetch("examples/"+e);if(n.ok)return Oe[e]=await n.json();throw new Error("No example found in "+e)}catch(e){throw e.details&&console.log(e.details),e}}!function(t,l){null==l&&(l={});const c=_e();function f(){f._p||f.planned||(f.planned=!0,setTimeout(()=>{f.planned=!1,f.go()},1))}c.example?Me.load(c.example):Me.load("1-hello-world.json"),function(){let c=new s,g={};function h(t,l){let c=l.childNodes[1].childNodes[1].childNodes[1].childNodes[3].childNodes[1],f=l.childNodes[1].childNodes[1].childNodes[3].childNodes[1],g=l.childNodes[1].childNodes[3].childNodes[1].childNodes[0],h=l.childNodes[1].childNodes[5].childNodes[1].childNodes[0],p=l.childNodes[1].childNodes[5].childNodes[3].childNodes[0],m=l.childNodes[1].childNodes[7].childNodes[0];{let l=function(t,l){let c,f;null==l&&(l={});const g=_e();function h(){h._p||h.planned||(h.planned=!0,setTimeout(()=>{h.planned=!1,h.go()},1))}return g.example&&(f=g.example),Me.list.subscribe(e=>(h(),c=e)),function(){let g=new s,p={};function m(t,s){!function(t,s){let l=e("\n<select>\n\x3c!-- #each list as example --\x3e\n</select>\n",!0);u(t,s,()=>!c,e("\n    Loading examples list...\n",!0),(function(e,n){}),l,(function(t,s){let l=s.childNodes[1],d=s.childNodes[1].childNodes[1];{let e=l;t.ev(e,"input",e=>{h(),Me.load(e.target.value)})}!function(t,s){function l(e,n,t,r){!function(e,n){let r=n.childNodes[0],i=n.childNodes[0].childNodes[0];{let n=r;o(e,()=>t.file,e=>{n.value=e})}{let n=r;o(e,()=>f===t.file,e=>{n.selected=e})}{let n=i;o(e,()=>t.name,e=>{n.textContent=e})}}(e.cd,n),e.reindex=function(e){}}let d=s.parentNode,u=e("<option> </option>"),g=new Map;i(t,()=>c,e=>{e&&Array.isArray(e)||(e=[]);let i,o,a,c,f=s,h=new Map;if(g.size){let i=new Set;for(let n=0;n<e.length;n++)i.add(e[n]);g.forEach((e,o)=>{i.has(o)||(r(e.first,e.last),e.cd.destroy(),n(t.children,e.cd))}),i.clear()}for(i=0;i<e.length;i++){if(o=e[i],a?(c=a,a=null):c=g.get(o),c){if(f.nextSibling!=c.first){let n=!0;if(i+1<e.length&&f.nextSibling&&(a=g.get(e[i+1]),f.nextSibling.nextSibling===a.first&&(d.replaceChild(c.first,f.nextSibling),n=!1)),n){let e,n=f.nextSibling,t=c.first;for(;t&&(e=t.nextSibling,d.insertBefore(t,n),t!=c.last);)t=e}}c.reindex(i)}else{let e=u.cloneNode(!0);c={cd:t.new()},l(c,e,o),c.first=e.firstChild,c.last=e.lastChild,d.insertBefore(e,f.nextSibling)}f=c.last,h.set(o,c)}g.clear(),g=h},{cmp:a})}(t,d)}))}(t,s.childNodes[1])}p.destroy=()=>{g.destroy()},h.go=()=>{h._p=!0;try{d(g,()=>h._p=!1)}finally{h._p=!1}};if(l.afterElement){let n=t;t=e("\n\n\n\x3c!-- #if !list --\x3e"),m(g,t),n.parentNode.insertBefore(t,n.nextSibling)}else t.innerHTML="\n\n\n\x3c!-- #if !list --\x3e",m(g,t);return h(),p}()}(c,{afterElement:!0,noMount:!0});l&&(l.destroy&&t.d(l.destroy),l.onMount&&t.once(l.onMount))}{let n=function(n,t){function r(){r._p||r.planned||(r.planned=!0,setTimeout(()=>{r.planned=!1,r.go()},1))}return null==t&&(t={}),function(){let i=new s,o={destroy:()=>{i.destroy()}};r.go=()=>{r._p=!0;try{d(i,()=>r._p=!1)}finally{r._p=!1}};const a='\n<div class="github-link">\n<svg style="width:24px;height:24px" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"></path>\n</svg>\n\n<a href="https://github.com/malinajs/malinajs" target="_blank">GitHub</a>\n\n</div>\n\n<style>\n    .github-link{\n        line-height: 24px;\n        padding: 10px;\n    }\n\n    .github-link svg{\n        vertical-align: text-bottom;\n    }\n\n    .github-link a{\n        text-decoration: none;\n    }\n</style>';if(t.afterElement){let t=n;n=e(a),t.parentNode.insertBefore(n,t.nextSibling)}else n.innerHTML=a;return r(),o}()}(f,{afterElement:!0,noMount:!0});n&&(n.destroy&&t.d(n.destroy),n.onMount&&t.once(n.onMount))}{let e=ue(g,{afterElement:!0,noMount:!0});e&&(e.destroy&&t.d(e.destroy),e.onMount&&t.once(e.onMount))}{let e=ce(h,{afterElement:!0,noMount:!0});e&&(e.destroy&&t.d(e.destroy),e.onMount&&t.once(e.onMount))}{let e=Ne(p,{afterElement:!0,noMount:!0});e&&(e.destroy&&t.d(e.destroy),e.onMount&&t.once(e.onMount))}{let n=function(n,t){null==t&&(t={});let r=null,i=null;function a(){a._p||a.planned||(a.planned=!0,setTimeout(()=>{a.planned=!1,a.go()},1))}return we.subscribe(e=>{a(),i=null,e&&(e=e.replace(/^\[(.+?)\] /,(e,n)=>(a(),i=n,""))),r=e}),function(){let l=new s,c={};function f(n,t){!function(n,t){u(n,t,()=>!!r,e('\n    <p class="error-message">\x3c!-- #if from --\x3e </p>\n',!0),(function(n,t){let s=t.childNodes[1].childNodes[0],a=t.childNodes[1].childNodes[1];!function(n,t){u(n,t,()=>!!i,e("<span> </span>",!0),(function(e,n){{let t=n.childNodes[0].childNodes[0];o(e,()=>i+":",e=>{t.textContent=e})}}))}(n,s);{let e=a;o(n,()=>r,n=>{e.textContent=n})}}))}(n,t.childNodes[1])}c.destroy=()=>{l.destroy()},a.go=()=>{a._p=!0;try{d(l,()=>a._p=!1)}finally{a._p=!1}};const g="\n\n\x3c!-- #if err --\x3e\n\n<style>\n    .error-message{\n        line-height: 40px;\n        color:orange;\n        margin-left: 5px;\n    }\n\n    .error-message span{\n        line-height: 40px;\n        color:var(--color-gray);\n        margin-right: 5px;\n    }\n\n</style>";if(t.afterElement){let t=n;n=e(g),f(l,n),t.parentNode.insertBefore(n,t.nextSibling)}else n.innerHTML=g,f(l,n);return a(),c}()}(m,{afterElement:!0,noMount:!0});n&&(n.destroy&&t.d(n.destroy),n.onMount&&t.once(n.onMount))}}g.destroy=()=>{c.destroy()},f.go=()=>{f._p=!0;try{d(c,()=>f._p=!1)}finally{f._p=!1}};const p='\n\n<div class="wrapper">\n    <div class="header">\n        <div style="float: left">\n            <h1 class="logo">Malina.js - REPL</h1>\n            <div class="examples">\n                Select an example: \x3c!-- Examples --\x3e\n            </div>\n        </div>\n        <div style="float: right">\n            \x3c!-- Github --\x3e\n        </div>\n    </div>\n    <div class="tabs">\n        <div class="left">\x3c!-- Filestabs --\x3e</div>\n        <div class="right"></div>\n    </div>\n    <div class="body">\n        <div class="left">\x3c!-- Editor --\x3e</div>\n        <div class="right">\x3c!-- Result --\x3e</div>\n    </div>\n    <div class="footer">\x3c!-- Footer --\x3e</div>\n</div>\n\n<style>\n    .wrapper{\n        display: flex;\n        min-height: 100vh;\n        flex-direction: column;\n    }\n\n    .header{\n        height: 90px;\n        border-bottom: 1px solid var(--color-gray);\n        background-color: var(--color-lightest);\n    }\n\n    .body{\n        display: flex;\n        flex: 1;\n    }\n    .tabs{\n        display: flex;\n        height: 30px;\n    }\n    .left{\n        width: 60%;\n        border-right: 1px solid var(--color-gray);\n    }\n\n    .right{\n        width: 40%;\n    }\n\n    .footer{\n        border-top: 1px solid var(--color-gray);\n        height: 40px;\n    }\n\n    .logo,.examples{\n        margin-left: 10px;\n    }\n</style>';if(l.afterElement){let n=t;t=e(p),h(c,t),n.parentNode.insertBefore(t,n.nextSibling)}else t.innerHTML=p,h(c,t);f()}()}(document.body)}();
