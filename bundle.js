!function(){"use strict";let e=console.error;const t=t=>{try{return"function"==typeof t&&t()}catch(t){e(t)}};function n(e,t,n,i){return i||(i={}),i.fn=t,i.cb=n,"value"in i||(i.value=NaN),e.watchers.push(i),i}function i(e,t,i){return n(e,t,i,{ro:!0})}function r(e,t,n,i){t.addEventListener(n,i),o(e,(()=>{t.removeEventListener(n,i)}))}function o(e,t){t&&e._d.push(t)}function s(e){this.parent=e,this.children=[],this.watchers=[],this._d=[],this.prefix=[]}s.prototype.new=function(){var e=new s(this);return this.children.push(e),e},s.prototype.destroy=function(e){!1!==e&&this.parent&&function(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1)}(this.parent.children,this),this.watchers.length=0,this.prefix.length=0,this._d.map(t),this._d.length=0,this.children.map((e=>e.destroy(!1))),this.children.length=0};const a=e=>Array.isArray(e);function l(e,t){return((e,t)=>{let n=a(e);if(n!==a(t))return!0;if(!n)return e!==t;if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1})(e.value,t)?(a(t)?e.value=t.slice():e.value=t,e.cb(e.value),e.ro?0:1):0}const c=(e,t,n)=>{if(n<0||!e||!t)return e!==t;if(e===t)return!1;if(!("object"==typeof e)||!("object"==typeof t))return e!==t;let i=a(e);if(i!==a(t))return!0;if(i){if(e.length!==t.length)return!0;for(let i=0;i<e.length;i++)if(c(e[i],t[i],n-1))return!0}else{let i={};for(let r in e){if(c(e[r],t[r],n-1))return!0;i[r]=!0}for(let e in t)if(!i[e])return!0}return!1};function d(e,t){if(t<0||!e)return e;if("object"==typeof e){if(e instanceof Date)return e;if(e instanceof Element)return e;if(a(e))return e.map((e=>d(e,t-1)));let n={};for(let i in e)n[i]=d(e[i],t-1);return n}return e}function u(e){return function(t,n){return c(t.value,n,e)?(t.value=d(n,e),t.cb(n),t.ro?0:1):0}}const p=u(10),f=e=>{e.cmp?e.cmp(e,e.fn()):(e.value=e.fn(),e.cb(e.value))};let h={},m=1;let g=e=>e;const v=(e,t,n)=>{e.parentNode.insertBefore(t,n)},x=e=>{let t=document.createDocumentFragment();return t.append(e),t},b=e=>{if(h[e])return h[e].cloneNode(!0);let t=document.createElement("template");t.innerHTML=e;let n,i=t.content,r=document.createNodeIterator(i,128);for(;n=r.nextNode();)n.nodeValue||n.parentNode.replaceChild(document.createTextNode(""),n);return h[e]=i.cloneNode(!0),i};function w(e,t){let n;for(;e&&(n=e.nextSibling,e.remove(),e!=t);)e=n}let y,k,$=[],C={};function j(e,n){if(n){if(C[n])return;C[n]=!0}$.push(e),C.$tick||(C.$tick=!0,setTimeout((()=>{C={};let e=$;$=[],e.map(t)}),0))}const A=e=>y._m.push(e),N=e=>(n,i={})=>{i.events||(i.events={});let r=y;k={...i.$$?.context};let o=y={$option:i,destroy:()=>o._d.map(t),context:k,_d:[],_m:[]};try{((e,t,n)=>{n.events||(n.events={});let i=e(n);n.afterElement?v(t,i,t.nextSibling):(t.innerHTML="",t.appendChild(i))})(e,n,i)}finally{y=r,k=null}return o._d.push(...o._m.map(t)),o},F=t=>(n,i={})=>(i.props||(i.props={}),N((()=>{let n=new s;var r;r=()=>n.destroy(),y._d.push(r);let o,a="a"+m++,l=t=>(o||j((()=>{try{o=!0,function(t){let n,i=10;for(;i>=0;){let e,r,o=0,s=0,a=[],l=t;for(;l;){for(e=0;e<l.prefix.length;e++)l.prefix[e]();for(e=0;e<l.watchers.length;e++)n=l.watchers[e],r=n.fn(),n.value!==r&&(n.cmp?o+=n.cmp(n,r):(n.value=r,n.ro||o++,n.cb(n.value)));l.children.length&&a.push.apply(a,l.children),l=a[s++]}if(i--,!o)break}i<0&&e("Infinity changes: ",n)}(n)}finally{o=!1}}),a),t);return y.$cd=n,y.apply=l,y.push=l,l(t(i,l))}))(n,i)),E=(e,n,i,r)=>{r.afterElement=!0;let s=t((()=>n(i,r)));return s&&s.destroy&&o(e,s.destroy),s},z=(e,t)=>{if(t.subscribe){let n=t.subscribe(e.apply);"function"==typeof n&&o(e.$cd,n)}},L=(e,t)=>{if(document.head.querySelector("style#"+e))return;let n=document.createElement("style");n.id=e,n.innerHTML=t,document.head.appendChild(n)},S=(e,t,n,r)=>{i(e,n,(e=>{e?t.classList.add(r):t.classList.remove(r)}))},_=(e,t,n)=>{i(e,n,(e=>{t.textContent=e}))},O=(e,t,n,r)=>{i(e,r,(e=>{t.style[n]=e}))},P=(e,t,n,r)=>{i(e,r,(e=>{null!=e?t.setAttribute(n,e):t.removeAttribute(n)}))},q=(e,t,i,r)=>{j((()=>{let s,a;r?(a=r(),s=i.apply(null,[t].concat(a))):s=i(t),s&&(s.update&&r&&n(e,r,(e=>{s.update.apply(s,e)}),{cmp:u(1),value:d(a,1)}),s.destroy&&o(e,s.destroy))}))},M=(e,t,n)=>{e.push=()=>{t(),e.apply()},e.exportedProps=n},T=(e,t,n)=>"object"==typeof n[0]?e:t;function Z(e,t,i){let r,o=e=>{let n=(e=>{if(h[e])return h[e].cloneNode(!0);let t=document.createElement("template");t.innerHTML=e;let n=t.content;return h[e]=n.cloneNode(!0),n})(e);r=n.lastChild,v(t,n,t.nextSibling)};n(e,i,(e=>{(()=>{if(!r)return;let e,n=t.nextSibling;for(;n&&(e=n.nextSibling,n.remove(),n!=r);)n=e;r=null})(),e&&o(e)}),{ro:!0})}function H(e,t,i,r,o,s,a){let l,c,d;function u(n,i){l=e.new();let r=n.cloneNode(!0);i(l,r),c=r.firstChild,d=r.lastChild,v(t,r,t.nextSibling)}function p(){l&&(l.destroy(),l=null,w(c,d),c=d=null)}n(e,i,(e=>{e?(p(),u(r,o)):(p(),a&&u(s,a))}))}function D(e,t,i,r,o,s,c){let d,u=e.new(),p=new Map,f=s.childNodes.length;n(u,r,(e=>{e||(e=[]),"number"==typeof e?e=[...Array(e)].map(((e,t)=>t+1)):a(e)||(e=[]);let n,r,l,h,m,g,v,x=new Map;if(i?(n=null,r=t):(n=t,r=t.parentNode),p.size){let n,r=0;for(let t=0;t<e.length;t++)n=p.get(o(e[t],t,e)),n&&(n.a=!0,r++);!r&&d?(i?t.textContent="":w(t.nextSibling,d),u.children.forEach((e=>e.destroy(!1))),u.children.length=0,p.clear()):(u.children=[],p.forEach((e=>{if(e.a)return e.a=!1,void u.children.push(e.cd);w(e.first,e.last),e.cd.destroy(!1)})))}for(l=0;l<e.length;l++){if(h=e[l],m?(g=m,m=null):g=p.get(o(h,l,e)),g){if(v=0==l&&i?r.firstChild:n.nextSibling,v!=g.first){let t=!0;if(1==f&&l+1<e.length&&n&&n.nextSibling&&(m=p.get(o(e[l+1],l+1,e)),n.nextSibling.nextSibling===m.first&&(r.replaceChild(g.first,n.nextSibling),t=!1)),t){let e,t=n&&n.nextSibling,i=g.first;for(;i&&(e=i.nextSibling,r.insertBefore(i,t),i!=g.last);)i=e}}g.rebind(l,h)}else{let e=s.cloneNode(!0);g={cd:u.new()},c(g,e,h,l),g.first=e.firstChild,g.last=e.lastChild,r.insertBefore(e,n&&n.nextSibling)}n=g.last,x.set(o(h,l,e),g)}d=n,p.clear(),p=x}),{ro:!0,cmp:l})}var R={close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",chevronDown:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",github:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"},W=F(((e,t)=>{const n=y,i=e.props;z(n,R);let{name:r}=i,{size:o=24}=i,{rotate:s=0}=i,{speed:a=200}=i;M(n,(()=>{({name:r,size:o,rotate:s,speed:a}=i)}),{name:()=>r,size:()=>o,rotate:()=>s,speed:()=>a});{let e=n.$cd;const t=b(' <svg viewBox="0 0 24 24" class="mg0onou"> <path fill="currentColor"></path> </svg> ');let i=t.childNodes[1],l=i.childNodes[1];return O(e,i,"width",(()=>o+"px")),O(e,i,"height",(()=>o+"px")),O(e,i,"transition",(()=>`${a}ms`)),O(e,i,"transform",(()=>`rotate(${s}deg)`)),P(e,l,"d",(()=>R[r]||"")),L("mg0onou","svg.mg0onou{margin-top:-3px;vertical-align:middle;width:18px;height:18px}"),t}}));function I(e){return"function"==typeof e}function V(e,t){let n=e,i=[];const r=e=>{if(r=n,(t=e)!=t?r==r:t!==r||t&&function(e){return"object"==typeof e}(t)||I(t)){const t=n;n=e,i.forEach((e=>e(n,t)))}var t,r};let o=()=>{};return{subscribe:e=>{if(0===i.length){const e=I(t)?t(r):null;I(e)&&(o=e)}return i.push(e),e(n),()=>(e=>{i=i.filter((t=>t!==e)),0===i.length&&o()})(e)},get:()=>n,set:r,update:e=>r(e(n))}}const B="App.xht";let J=function(){let e=[{name:B,body:""}];const t=V(e),n=V({}),i=V(e[0]),r=V([B]),o=V(!1);function s(t){return e.findIndex((e=>e.name===t))}function a(e){return-1!==s(e)}function l(t){const n=s(t);return-1!==n&&e[n]}function c(){return e.map((e=>e.name)).sort((e=>e.name===B?-1/0:0))}return{default:B,subscribe:t.subscribe,modified:o,current:{subscribe:i.subscribe,get:i.get,set(e){if(!a(e))throw new Error(`${e} is not exists`);i.set(l(e))},save(n){i.update((i=>(function(t,n){const i=s(t);if(-1===i)return!1;e[i].body=n}(i.name,n),t.set(e),o.set(!0),i.body=n,i)))}},meta:{subscribe:n.subscribe,get:e=>e?n.get()[e]:n.get(),set:n.set,update(e){n.update((t=>Object.assign(t,e)))}},list:{subscribe:r.subscribe},add(n,i){if(a(n))throw new Error(`${n} already exists`);!function(t,n){e.push({name:t,body:n||""})}(n,i),t.set(e),o.set(!0),r.set(c())},delete(n){if(!a(n))throw new Error(`${n} is not exists`);!function(t){const n=s(t);if(-1===n)return!1;e.splice(n,1)}(n),t.set(e),o.set(!0),r.set(c()),i.update((e=>(e.name===n&&(e=l(B)),e)))},rename(n,l){if(!a(n))throw new Error(`${n} is not exists`);!function(t,n){const i=s(t);if(-1===i)return!1;e[i].name=n}(n,l),t.set(e),o.set(!0),r.set(c()),i.update((e=>(e.name===n&&(e.name=l),e)))},get:()=>e,touch(){t.set(e)},set(s,a){e=s,t.set(e),n.set(a||{}),o.set(!1),i.set(l(B)),r.set(c())},exists:e=>a(e)}}();var U=F(((e,t)=>{const o=y,s=e.props;z(o,J);let{file:a}=s;M(o,(()=>{({file:a}=s)}),{file:()=>a});let l=!1,c=null,d=!1,p=a;function f(){t(),d=!1,p!==a&&m(p)&&J.rename(a,p)}function h(e){t();const n=()=>(t(),e.style.width=`${e.value.length+1}ch`);return e.addEventListener("input",n),n(),setTimeout((()=>{t(),e.focus(),e.setSelectionRange(0,e.value.lastIndexOf("."))}),0),{destroy(){t(),e.removeEventListener("input",n)}}}function m(e){return t(),p===a||!!/\.(html|js|json|ma|xht)$/.test(e)&&!J.exists(e)}J.current.subscribe((({name:e})=>{t(),c=e}));{let e=o.$cd;const s=b(' <div class="mpmvkzo mdr0u2g">\x3c!----\x3e</div> ');let g=s.childNodes[1],v=g.firstChild;return S(e,g,(()=>!!l),"active"),r(e,g,"click",(e=>{!function(){if(t(),l)return!1;J.current.set(a)}(),t()})),P(e,g,"title",(()=>"./"+a)),H(e,v,(()=>!!l),b(" \x3c!----\x3e \x3c!----\x3e "),((e,n)=>{let s=n.childNodes[1],l=n.childNodes[3];H(e,s,(()=>!!d),b(' <input class="mpmvkzo mvtvomp"/> '),((e,n)=>{let o=n.childNodes[1];S(e,o,(()=>!m(p)),"invalid"),((e,t,n,o,s)=>{let a=i(e,"checked"==n?()=>!!o():o,(e=>{e!=t[n]&&(t[n]=e)}));r(e,t,"input",(()=>{s(a.value=t[n])}))})(e,o,"value",(()=>p),(e=>{p=e,t()})),r(e,o,"blur",(e=>{f(),t()})),r(e,o,"keydown",(e=>{13==e.keyCode&&(e.preventDefault(),f(),t())})),q(e,o,h)}),b(" <span> </span> "),((e,n)=>{let i=n.childNodes[1],o=i.firstChild;r(e,i,"click",(e=>{t(),d||(p=a,a!==J.default&&(d=!0)),t()})),_(e,o,(()=>a))})),H(e,l,(()=>!(a===J.default)),b(' <span class="moq4hpv delete">\x3c!----\x3e</span> '),((e,n)=>{let i=n.childNodes[1],s=i.firstChild;r(e,i,"click",(e=>{var n;n=a,t(),confirm(`Are you really want to delete ${n}?`)&&J.delete(n),t()}));{let t={name:"close",size:"18"};E(e,W,s,{$$:o,props:t})}}))}),x(" "),((e,t)=>{let n=t.firstChild;_(e,n,(()=>" "+a+" "))})),e.prefix.push((()=>{l=c===a})),n(e,(()=>l),(()=>{l||(d=!1)}),{cmp:u(0)}),L("mpmvkzo","div.mpmvkzo{display:inline-block;vertical-align:middle;height:28px;line-height:28px;border:none;background-color:var(--color-light);border-radius:3px 3px 0px 0px;cursor:pointer;margin:2px 2px 0px 0px;padding:0px 5px}input.mpmvkzo{padding:1px 3px;font-family:'Courier New',Courier,monospace;border:1px solid var(--color-dark);height:24px}.invalid.mvtvomp{color:red}.active.mdr0u2g{background-color:var(--hl-background)}.delete.moq4hpv{color:var(--color-light)}.delete.moq4hpv:hover{color:var(--color-dark)}"),s}})),G=F(((e,t)=>{const i=y;z(i,J);let o=[];var s;s=J.list.subscribe((e=>{t(),o=e})),i._d.push(s);{let e=i.$cd;const s=b(' <div class="mvcnn7h">\x3c!----\x3e <button title="Add component" class="m8kw277 add">\x3c!----\x3e</button></div> ');let a=s.childNodes[1].firstChild,l=s.childNodes[1].childNodes[2],c=l.firstChild;D(e,a,0,(()=>o),g,b("\x3c!----\x3e\x3c!----\x3e"),((e,t,r,o)=>{let s=e.cd,a=t.firstChild;{let e=g,t={};f(n(s,(()=>r),(n=>{t.file=n,e()}),{ro:!0,cmp:p}));let o=E(s,U,a,{$$:i,props:t});o&&(e=o.push)}e.rebind=function(e,t){r=t}})),r(e,l,"click",(e=>{!function(){t();let e="Comp",n="";for(;o.includes(`${e}${n}.xht`);)n=n?++n:2;e=`${e}${n}.xht`,J.add(e),J.current.set(e)}(),t()}));{let t={name:"plus",size:"20"};E(e,W,c,{$$:i,props:t})}return L("mvcnn7h","div.mvcnn7h{height:30px;background-color:var(--color-gray);padding:0px;white-space:nowrap;overflow:hidden}.add.m8kw277{background-color:var(--color-gray);color:var(--color-lightest);border:none;font-weight:bold;font-size:20px;line-height:27px;width:27px;height:27px;padding:0px;cursor:pointer}"),s}}));function K(e,t,n={}){const i=Object.assign({tab:"\t",indentOn:/{$/,spellcheck:!1,addClosing:!0},n);let r,o,s=[],a=[],l=-1,c=!1,d=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;e.setAttribute("contentEditable",d?"true":"plaintext-only"),e.setAttribute("spellcheck",i.spellcheck?"true":"false"),e.style.outline="none",e.style.overflowWrap="break-word",e.style.overflowY="auto",e.style.resize="vertical",e.style.whiteSpace="pre-wrap",t(e);const u=A((()=>{const n=g();t(e),v(n)}),30);let p=!1;const f=e=>!$(e)&&!C(e)&&"Meta"!==e.key&&"Control"!==e.key&&"Alt"!==e.key&&!e.key.startsWith("Arrow"),h=A((e=>{f(e)&&(w(),p=!1)}),300),m=(t,n)=>{s.push([t,n]),e.addEventListener(t,n)};function g(){const t=window.getSelection(),n={start:0,end:0,dir:void 0};return y(e,(e=>{if(e===t.anchorNode&&e===t.focusNode)return n.start+=t.anchorOffset,n.end+=t.focusOffset,n.dir=t.anchorOffset<=t.focusOffset?"->":"<-","stop";if(e===t.anchorNode){if(n.start+=t.anchorOffset,n.dir)return"stop";n.dir="->"}else if(e===t.focusNode){if(n.end+=t.focusOffset,n.dir)return"stop";n.dir="<-"}e.nodeType===Node.TEXT_NODE&&("->"!=n.dir&&(n.start+=e.nodeValue.length),"<-"!=n.dir&&(n.end+=e.nodeValue.length))})),n}function v(t){const n=window.getSelection();let i,r,o=0,s=0;if(t.dir||(t.dir="->"),t.start<0&&(t.start=0),t.end<0&&(t.end=0),"<-"==t.dir){const{start:e,end:n}=t;t.start=n,t.end=e}let a=0;y(e,(e=>{if(e.nodeType!==Node.TEXT_NODE)return;const n=(e.nodeValue||"").length;if(a+n>=t.start&&(i||(i=e,o=t.start-a),a+n>=t.end))return r=e,s=t.end-a,"stop";a+=n})),i||(i=e),r||(r=e),"<-"==t.dir&&([i,o,r,s]=[r,s,i,o]),n.setBaseAndExtent(i,o,r,s)}function x(){const t=window.getSelection().getRangeAt(0),n=document.createRange();return n.selectNodeContents(e),n.setEnd(t.startContainer,t.startOffset),n.toString()}function b(){const t=window.getSelection().getRangeAt(0),n=document.createRange();return n.selectNodeContents(e),n.setStart(t.endContainer,t.endOffset),n.toString()}function w(){if(!c)return;const t=e.innerHTML,n=g(),i=a[l];if(i&&i.html===t&&i.pos.start===n.start&&i.pos.end===n.end)return;l++,a[l]={html:t,pos:n},a.splice(l+1);l>300&&(l=300,a.splice(0,1))}function y(e,t){const n=[];e.firstChild&&n.push(e.firstChild);let i=n.pop();for(;i&&"stop"!==t(i);)i.nextSibling&&n.push(i.nextSibling),i.firstChild&&n.push(i.firstChild),i=n.pop()}function k(e){return e.metaKey||e.ctrlKey}function $(e){return k(e)&&!e.shiftKey&&"z"===e.key}function C(e){return k(e)&&e.shiftKey&&"z"===e.key}function j(e){e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),document.execCommand("insertHTML",!1,e)}function A(e,t){let n=0;return(...i)=>{clearTimeout(n),n=window.setTimeout((()=>e(...i)),t)}}function N(e){let t=e.length-1;for(;t>=0&&"\n"!==e[t];)t--;t++;let n=t;for(;n<e.length&&/[ \t]/.test(e[n]);)n++;return[e.substring(t,n)||"",t,n]}function F(){return e.textContent||""}function E(e){e.preventDefault()}return m("keydown",(t=>{t.defaultPrevented||(o=F(),function(e){if("Enter"===e.key){const t=x(),n=b();let[r]=N(t),o=r;if(i.indentOn.test(t)&&(o+=i.tab),(d||o.length>0)&&(E(e),j("\n"+o)),o!==r&&"}"===n[0]){const e=g();j("\n"+r),v(e)}}}(t),function(e){if("Tab"===e.key)if(E(e),e.shiftKey){const e=x();let[t,n]=N(e);if(t.length>0){const e=g(),r=Math.min(i.tab.length,t.length);v({start:n,end:n+r}),document.execCommand("delete"),e.start-=r,e.end-=r,v(e)}}else j(i.tab)}(t),i.addClosing&&function(e){const t="([{'\"",n=")]}'\"",i=b();if(n.includes(e.key)&&i.substr(0,1)===e.key){const t=g();E(e),t.start=++t.end,v(t)}else if(t.includes(e.key)){const i=g();E(e);j(e.key+n[t.indexOf(e.key)]),i.start=++i.end,v(i)}}(t),function(t){if($(t)){E(t),l--;const n=a[l];n&&(e.innerHTML=n.html,v(n.pos)),l<0&&(l=0)}if(C(t)){E(t),l++;const n=a[l];n&&(e.innerHTML=n.html,v(n.pos)),l>=a.length&&l--}}(t),f(t)&&!p&&(w(),p=!0))})),m("keyup",(e=>{e.defaultPrevented||e.isComposing||(o!==F()&&u(),h(e),r&&r(F()))})),m("focus",(e=>{c=!0})),m("blur",(e=>{c=!1})),m("paste",(n=>{w(),function(n){E(n);const i=(n.originalEvent||n).clipboardData.getData("text/plain"),r=g();j(i),t(e),v({start:r.start+i.length,end:r.start+i.length})}(n),w(),r&&r(F())})),{updateOptions(e){e=Object.assign(Object.assign({},e),e)},updateCode(n){e.textContent=n,t(e)},onUpdate(e){r=e},toString:F,destroy(){for(let[t,n]of s)e.removeEventListener(t,n)}}}var X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Y,Q,ee=(function(e){var t=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof r?new r(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,o;switch(n=n||{},i.util.type(t)){case"Object":if(o=i.util.objId(t),n[o])return n[o];for(var s in r={},n[o]=r,t)t.hasOwnProperty(s)&&(r[s]=e(t[s],n));return r;case"Array":return o=i.util.objId(t),n[o]?n[o]:(r=[],n[o]=r,t.forEach((function(t,i){r[i]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(i){var e=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(i.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var i="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(i))return!1;e=e.parentElement}return!!n}},languages:{extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var o=(r=r||i.languages)[e],s={};for(var a in o)if(o.hasOwnProperty(a)){if(a==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(a)||(s[a]=o[a])}var c=r[e];return r[e]=s,i.languages.DFS(i.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,r,o){o=o||{};var s=i.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],r||a);var l=t[a],c=i.util.type(l);"Object"!==c||o[s(l)]?"Array"!==c||o[s(l)]||(o[s(l)]=!0,e(l,n,a,o)):(o[s(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,s=0;o=r.elements[s++];)i.highlightElement(o,!0===t,r.callback)},highlightElement:function(n,r,o){var s=i.util.getLanguage(n),a=i.languages[s];n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+s;var l=n.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+s);var c={element:n,language:s,grammar:a,code:n.textContent};function d(e){c.highlightedCode=e,i.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,i.hooks.run("after-highlight",c),i.hooks.run("complete",c),o&&o.call(c.element)}if(i.hooks.run("before-sanity-check",c),!c.code)return i.hooks.run("complete",c),void(o&&o.call(c.element));if(i.hooks.run("before-highlight",c),c.grammar)if(r&&e.Worker){var u=new Worker(i.filename);u.onmessage=function(e){d(e.data)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else d(i.highlight(c.code,c.grammar,c.language));else d(i.util.encode(c.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return i.hooks.run("before-tokenize",o),o.tokens=i.tokenize(o.code,o.grammar),i.hooks.run("after-tokenize",o),r.stringify(i.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var i in n)t[i]=n[i];delete t.rest}var r=new s;return a(r,r.head,e),o(e,r,t,r.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,o=0;r=n[o++];)r(t)}},Token:r};function r(e,t,n,i){this.type=e,this.content=t,this.alias=n,this.length=0|(i||"").length}function o(e,t,n,s,c,d){for(var u in n)if(n.hasOwnProperty(u)&&n[u]){var p=n[u];p=Array.isArray(p)?p:[p];for(var f=0;f<p.length;++f){if(d&&d.cause==u+","+f)return;var h=p[f],m=h.inside,g=!!h.lookbehind,v=!!h.greedy,x=0,b=h.alias;if(v&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var y=h.pattern||h,k=s.next,$=c;k!==t.tail&&!(d&&$>=d.reach);$+=k.value.length,k=k.next){var C=k.value;if(t.length>e.length)return;if(!(C instanceof r)){var j=1;if(v&&k!=t.tail.prev){if(y.lastIndex=$,!(z=y.exec(e)))break;var A=z.index+(g&&z[1]?z[1].length:0),N=z.index+z[0].length,F=$;for(F+=k.value.length;A>=F;)F+=(k=k.next).value.length;if($=F-=k.value.length,k.value instanceof r)continue;for(var E=k;E!==t.tail&&(F<N||"string"==typeof E.value);E=E.next)j++,F+=E.value.length;j--,C=e.slice($,F),z.index-=$}else{y.lastIndex=0;var z=y.exec(C)}if(z){g&&(x=z[1]?z[1].length:0),A=z.index+x;var L=z[0].slice(x),S=(N=A+L.length,C.slice(0,A)),_=C.slice(N),O=$+C.length;d&&O>d.reach&&(d.reach=O);var P=k.prev;S&&(P=a(t,P,S),$+=S.length),l(t,P,j),k=a(t,P,new r(u,m?i.tokenize(L,m):L,b,L)),_&&a(t,k,_),j>1&&o(e,t,n,k.prev,$,{cause:u+","+f,reach:O})}}}}}}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function a(e,t,n){var i=t.next,r={value:n,prev:t,next:i};return t.next=r,i.prev=r,e.length++,r}function l(e,t,n){for(var i=t.next,r=0;r<n&&i!==e.tail;r++)i=i.next;t.next=i,i.prev=t,e.length-=r}if(e.Prism=i,r.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(o.classes,s):o.classes.push(s)),i.hooks.run("wrap",o);var a="";for(var l in o.attributes)a+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+a+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,o=n.code,s=n.immediateClose;e.postMessage(i.highlight(o,i.languages[r],r)),s&&e.close()}),!1),i):i;var c=i.util.currentScript();function d(){i.manual||i.highlightAll()}if(c&&(i.filename=c.src,c.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var u=document.readyState;"loading"===u||"interactive"===u&&c&&c.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
     * Prism: Lightweight, robust, elegant syntax highlighting
     *
     * @license MIT <https://opensource.org/licenses/MIT>
     * @author Lea Verou <https://lea.verou.me>
     * @namespace
     * @public
     */e.exports&&(e.exports=t),void 0!==X&&(X.Prism=t)}(Q={path:Y,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&Q.path)}},Q.exports),Q.exports);function te(e,t){["javascript","malina"].includes(e)||(e="malina");return ee.highlight(t,ee.languages[e])}Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\((?!\s*\))\s*)(?:[^()]|\((?:[^()]|\([^()]*\))*\))+?(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(Prism),function(e){const t={pattern:/\{[\s\S]*?\}/,inside:{punctuation:/\{|\}$/,eachfix:{pattern:/(?<=(each .+ as .+))[a-zA-Z$_0-9]+\s*\(.+\)\s*$/,inside:{javascript:/^[a-zA-Z$_0-9]+/}},keyword:/([#:\/@](if|else|each|await|then|catch|html|slot|fragment))|\$element|\$event|\$onDestroy|\$onMount|\$props|\$attributes|\$emit/,selector:/^:[A-Za-z0-9]+/,javascript:{pattern:/[\s\S]+/,inside:e.languages.javascript}}};function n(e){return{pattern:/<\/?[^>]+\/?>/,inside:{tagstart:{pattern:/^<\/?[A-Za-z0-9-:]+/,inside:{punctuation:/^<\/?/,keyword:/^(fragment|slot|component|element|[A-Z])[A-Za-z0-9-]*/,tag:/^[a-z][A-Za-z0-9-]*/,selector:/^:[A-Za-z0-9]+/}},expression:!e&&t,"attr-value":{pattern:/(?<=\=)"[\S\s]*?(?<!\\)"|(?<=\=)"[^"]*|[^"]*"(?=(>|\s))|(?<=\=)'[\S\s]*?(?<!\\)'|(?<=\=)'[^']*|[^']*'(?=(>|\s))/,inside:{punctuation:/^"|^'|"$|'$/}},ref:!e&&{pattern:/\s#([A-Za-z0-9_$]+)?/,inside:{keyword:/(?<=\s)#/,javascript:/[A-Za-z0-9_$]+/}},action:!e&&{pattern:/\s(\*|use:|use)([A-Za-z0-9_$]+)?=?/,inside:{keyword:/(?<=\s)(\*|use:|use)/,punctuation:/=$/,javascript:/[A-Za-z0-9_$]+/}},event:!e&&{pattern:/\s(@@|@|on:@?)([A-Za-z0-9_$:|]+)?/,inside:{keyword:/(?<=\s)(@@|on:@?|@)/,javascript:/:[A-Za-z0-9_$]+/,"attr-name":{pattern:/[A-Za-z0-9|]+/,inside:{italic:/(?<=\|)[A-Za-z0-9]+/}}}},bind:!e&&[{pattern:/\s(:|bind:)([A-Za-z0-9_$]+)?=?/,inside:{keyword:/(?<=\s)(:|bind:)/,"attr-name":/[a-z]+(?=\=)/,punctuation:/=$/,javascript:/[A-Za-z0-9_$]+/}}],style:!e&&{pattern:/\s(class:|style:)([A-Za-z0-9_$]+)?=?/,inside:{keyword:/(?<=\s)(class:|style:)/,"attr-name":/[a-z]+(?=\=)/,punctuation:/=$/,javascript:/[A-Za-z0-9_$]+/}},"attr-name":/\s[a-z0-9-]+/,punctuation:/=|\/?>$/}}}e.languages.malina={comment:/<!--[\s\S]*-->/,script:{pattern:/<script[^>]*>[\s\S]*<\/script>/,inside:{scriptag:{pattern:/^<script[^>]*>|<\/script>$/,inside:{htmltag:n(!0)}},keyword:/\$:|\$onDestroy|\$onMount|\$props|\$attributes|\$emit/,javascript:{pattern:/[\s\S]+/,inside:e.languages.javascript}}},style:{pattern:/<style>[\s\S]*<\/style>/,inside:{styletag:{pattern:/^<style[^>]*>|<\/style>$/,inside:{htmltag:n(!0)}},css:{pattern:/[\s\S]+/,inside:e.languages.css}}},html:n(),expression:t}}(ee);var ne=F(((e,t)=>{const n=y;z(n,te),z(n,J);let i="xht";J.current.subscribe((e=>{t(),i=e.name.split(".").pop(),["js","json"].includes(i)||(i="xht")}));{let e=n.$cd;const r=b(' <div class="ms0ozc3"></div> ');let o=r.childNodes[1];return q(e,o,(function(e){t();let n="";const r=new K(e,(e=>{t(),e.innerHTML=te("js"===i||"json"===i?"javascript":"malina",e.textContent)}),{tab:" ".repeat(4)});r.onUpdate((function(e){t(),n!=e&&(n=e,J.current.save(e))})),e.style.resize="none";const o=J.current.subscribe((e=>{t(),r.toString()!==e.body&&(n=e.body,console.log("update"),r.updateCode(e.body))}));return{destroy:()=>{t(),e.removeEventListener("input",inputHandler),o()}}})),L("ms0ozc3","div.ms0ozc3{width:100%;min-height:100%;resize:none;border:0;font-family:'Source Code Pro',monospace;font-size:16px;font-weight:400;letter-spacing:normal;line-height:20px;padding:10px;tab-size:4}"),r}})),ie=F(((e,t)=>{const n=y;{let e=n.$cd;const t=b(' <div class="mbxzmed wrapper"><div class="mxo7vi4 editor"><div class="mh56xvv tabs">\x3c!----\x3e</div><div class="m0nbto9 code">\x3c!----\x3e</div></div></div> ');let i=t.childNodes[1].firstChild.firstChild.firstChild,r=t.childNodes[1].firstChild.childNodes[1].firstChild;return E(e,G,i,{$$:n}),E(e,ne,r,{$$:n}),L("m3v54l9",".wrapper.mbxzmed{position:relative;width:100%;height:100%}.editor.mxo7vi4{position:absolute;top:0px;left:0px;right:0px;bottom:0px;display:flex;flex-direction:column}.tabs.mh56xvv{height:30px}.code.m0nbto9{flex-grow:1;overflow-y:auto;min-height:0}"),t}}));function re(e){const t=new Worker("bundler_worker.js");return e(function(e){e=e||self;const t=[];return e.addEventListener("message",(({data:e})=>{t.filter((t=>t.event===e.event)).forEach((t=>t.handler(e.details)))})),{on:(e,n)=>{t.push({event:e,handler:n})},off:(e,n)=>{t.filter((t=>t.event!==e&&t.handler!==n))},emit:(t,n)=>{e.postMessage({event:t,details:n})}}}(t)),()=>t.terminate()}let oe=V(null),se=function(){let e=V([],(e=>{e(ae());const t=()=>{e(ae())};return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)}));return{subscribe:e.subscribe,go(t){""===t&&(t="/"),window.location.hash=t,e.set(ae())},path:"/"+e.get().join("/"),slugs(t){void 0===t?e.get():e.get()[t]},title(e){window.document.title=e?"Malina.js: "+e:"Malina.js",document.querySelectorAll("meta[property='og:title'],meta[name='twitter:title']").forEach((e=>e.setAttribute("content",window.document.title)))},version:()=>le().searchParams.get("version")}}();function ae(){const e=le().pathname.slice(1);return e?e.split("/"):[]}function le(){return new URL(window.location.hash.slice(1),"http://domain.tld")}function ce(e){let t=null,n=!1;async function i(){t=null,n=!0,await e.apply(null,arguments),n=!1,null!==t&&i.apply(null,t)}return function(){t=arguments,n||i.apply(null,t)}}let de,ue=function(){const e=V("application"),t=V({malina:"unknown",rollup:"unknown"});let n=()=>{};const i=V({application:"",component:"",ready:!1},(function(){return re((async({on:o,emit:s})=>{let a=()=>{},l=()=>{};const c=function(){console.clear(),console.log(`Rollup v.${t.get().rollup}`),console.log(`MalinaJS v.${t.get().malina}`),console.log("------ REPL READY -------")},d=ce((e=>new Promise((t=>{a=()=>t(!0),oe.set(null),c(),s("bundle",e)})))),u=ce((e=>new Promise((t=>{l=()=>t(!0),oe.set(null),c();let n=e.name.split(".");/^(?:html|ma|xht)$/.test(n.pop())?s("compile",{code:e.body,name:n.join(".")}):(r({component:"/* Choose component to see its compiled version */"}),t(!0))}))));o("error",(e=>oe.set(e))),o("init",(()=>r({ready:!1}))),o("ready",(e=>{r({ready:!0}),c(),t.set({malina:e.malinaVersion,rollup:e.rollupVersion}),n=e=>s("malinaVersion",e||"latest"),J.touch()})),o("bundle",(e=>{r({application:e}),a()})),o("compile",(e=>{r({component:e}),l()})),e.subscribe(J.touch),J.subscribe((async t=>{i.get().ready&&("application"===e.get()?d(t):u(J.current.get()))})),J.current.subscribe((async t=>{i.get().ready&&"component"===e.get()&&u(t)})),r({ready:!1}),s("init",{malinaVersion:se.version()})}))}));function r(e){i.update((t=>Object.assign(t,e)))}return{subscribe:i.subscribe,ready:()=>i.get().ready,mode:e,versions:t,malina:{load:e=>n(e),list:pe}}}();async function pe(){if(!de)try{const e=await fetch("modules/malinajs/versions.json");de=e.ok?e.json():[]}catch(e){console.error(e),de=[]}return de}var fe=F(((e,t)=>{const n=y;z(n,ue);const i={application:"Result",component:"Component source"};let o="application";{let e=n.$cd;const s=b(' <div class="mioo9kw"></div> ');return D(e,s.childNodes[1],1,(()=>Object.keys(i)),T,b('<span class="mioo9kw"> </span>'),((e,n,s,a)=>{let l=e.cd,c=n.firstChild,d=c.firstChild;S(l,c,(()=>!(o!==s)),"active"),r(l,c,"click",(e=>{ue.mode.set(s),t()})),_(l,d,(()=>i[s])),e.rebind=function(e,t){s=t}})),A((function(){t(),(e=>{n._d.push(e)})(ue.mode.subscribe((e=>{t(),o=e})))})),L("mioo9kw","div.mioo9kw{width:100%;display:flex;height:30px;background-color:var(--color-gray);border-left:1px solid var(--color-gray);margin-left:-1px;padding:0}span.mioo9kw{display:block;flex-grow:1;flex-basis:0;height:30px;line-height:30px;text-align:center;margin:0;background-color:var(--color-light);cursor:pointer}span.active.mioo9kw{background-color:white}"),s}}));let he=1;function me(e,t){const n=he++;let i=[];const r=e=>{e.data.frame_id&&e.data.event&&e.data.frame_id===n&&i.filter((t=>t.event===e.data.event)).forEach((t=>t.callback(e.data.data)))},o=(e,t)=>{i.push({event:e,callback:t})},s=(e,t)=>{i=i.filter((n=>n.event!==e||n.callback!==t))},a=(t,i)=>{e.contentWindow.postMessage({event:t,data:i,frame_id:n},"*")};return window.addEventListener("message",r),e.addEventListener("load",(()=>{a("init"),t({on:o,off:s,emit:a})})),{destroy(){window.removeEventListener("message",r),i=[]},update(e){i=[],e({on:o,off:s,emit:a})}}}function ge(){return`<!doctype html>\n<html>\n\n    <head>\n        <meta charset='utf-8'>\n        <base href='/' />\n    </head>\n\n    <script>\n        (${ve.toString()})();\n    <\/script>\n\n    <body></body>\n</html>    \n`}function ve(){let e,t,n=[];const i=(n,i)=>{t.postMessage({event:n,data:i,frame_id:e},"*")};window.addEventListener("message",(i=>{i.data.frame_id&&i.data.event&&(e||(e=i.data.frame_id),t||(t=i.source),n.filter((e=>e.event===i.data.event)).forEach((e=>e.callback(i.data.data))))}));const r=e=>{i("error",`[Application] ${e.message.replace(/^[a-z0-9 ]+?: /i,"")}`)};window.addEventListener("error",r),window.malina_onerror=e=>{console.error(e),r(e)},window.addEventListener("click",(e=>{i("click")}));for(let e of["log","warn","error","debug"]){const t=`default_${e}`;console[t]=console[e].bind(console),console[e]=function(){console[t].apply(console,arguments),i("console","")}}var o,s;o="bundle",s=e=>{if(!e)return;const t=new Function(e+"; return Component.default;")();for(let e of document.querySelectorAll("style[id]"))e.parentNode.removeChild(e);window.app&&window.app.destroy(),window.app=t(document.body)},n.push({event:o,callback:s})}var xe=F(((e,t)=>{const n=y;let i;function r({on:e,emit:r,frame_id:o}){t(),e("error",(e=>(t(),oe.set(e)))),e("click",(e=>(t(),i.click()))),(e=>{n._d.push(e)})(ue.subscribe((e=>{t(),"application"===ue.mode.get()&&r("bundle",e.application)})))}z(n,me),z(n,ge),z(n,J),z(n,ue),z(n,oe);{let e=n.$cd;const t=b(' <div class="mvcvyjp"><iframe title="Result" sandbox="allow-popups-to-escape-sandbox \n                allow-scripts \n                allow-popups \n                allow-forms \n                allow-pointer-lock \n                allow-top-navigation \n                allow-modals \n                allow-scripts" class="mvcvyjp"></iframe></div> ');let o=t.childNodes[1],s=o.firstChild;return i=o,q(e,s,me,(()=>[r])),P(e,s,"srcdoc",(()=>ge())),L("mvcvyjp","div.mvcvyjp{height:100%}iframe.mvcvyjp{width:100%;height:100%;border:0;margin-bottom:-5px}"),t}})),be=F(((e,t)=>{const n=y;z(n,te),z(n,J),z(n,ue),z(n,oe);let i="";(e=>{n._d.push(e)})(ue.subscribe((e=>{t(),i=e.component})));{let e=n.$cd;const t=b(' <div class="mc9ewwq"><pre class="mc9ewwq">\x3c!----\x3e</pre></div> ');return Z(e,t.childNodes[1].firstChild.firstChild,(()=>te("javascript",i))),L("mc9ewwq","div.mc9ewwq{height:100%}pre.mc9ewwq{width:100%;min-height:100%;padding:10px;font-family:'Source Code Pro',monospace}"),t}})),we=F(((e,t)=>{const n=y,i=e=>n._d.push(e);z(n,ue);let r="application",o=!1;i(ue.subscribe((e=>{t(),o=e.ready})));{let e=n.$cd;const s=b(' <div class="m5oh39j wrapper"><div class="mvmc76f result"><div class="mdodeyj tabs">\x3c!----\x3e</div><div class="m9doto7 code">\x3c!----\x3e</div></div></div> ');let a=s.childNodes[1].firstChild.firstChild.firstChild,l=s.childNodes[1].firstChild.childNodes[1].firstChild;return E(e,fe,a,{$$:n}),H(e,l,(()=>!o),b(' <p class="mj5o6oj">Loading Malina.js compiler...</p> '),g,b(" \x3c!----\x3e \x3c!----\x3e "),((e,t)=>{let i=t.childNodes[1],o=t.childNodes[3];H(e,i,(()=>!("application"!==r)),b("\x3c!----\x3e\x3c!----\x3e"),((e,t)=>{let i=t.firstChild;E(e,xe,i,{$$:n})})),H(e,o,(()=>!("component"!==r)),b("\x3c!----\x3e\x3c!----\x3e"),((e,t)=>{let i=t.firstChild;E(e,be,i,{$$:n})}))})),A((function(){t(),i(ue.mode.subscribe((e=>{t(),r=e})))})),L("mj5o6oj",".wrapper.m5oh39j{position:relative;width:100%;height:100%}.result.mvmc76f{position:absolute;top:0px;left:0px;right:0px;bottom:0px;display:flex;flex-direction:column}.tabs.mdodeyj{height:30px}.code.m9doto7{flex-grow:1;overflow-y:auto}p.mj5o6oj{text-align:center;padding:30px;color:var(--color-light)}"),s}})),ye=F(((e,t)=>{const n=y;let i=60,r=!1;{let e=n.$cd;const o=b(' <div class="m8pbzwt panels"><div class="left">\x3c!----\x3e</div><div class="m490pha mzcz0gh devider"></div><div class="m5gx5qs right">\x3c!----\x3e</div></div> ');let s=o.childNodes[1].firstChild,a=s.firstChild,l=o.childNodes[1].childNodes[1],c=o.childNodes[1].childNodes[2],d=c.firstChild;return O(e,s,"width",(()=>i+"%")),E(e,ie,a,{$$:n}),S(e,l,(()=>!!r),"dragging"),q(e,l,(function(e){function n(n){t(),n.preventDefault(),e.addEventListener("mousemove",s),r=!0}function o(n){t(),n.preventDefault(),e.removeEventListener("mousemove",s),r=!1}function s(e){t(),e.preventDefault(),i=e.clientX/window.innerWidth*100,i<20&&(i=20),i>80&&(i=80)}return t(),e.addEventListener("mousedown",n),e.addEventListener("mouseup",o),e.addEventListener("mouseout",o),window.addEventListener("mouseup",o),{destroy(){t(),e.removeEventListener("mousedown",n),e.removeEventListener("mouseup",o),e.removeEventListener("mouseout",o),window.removeEventListener("mouseup",o),e.removeEventListener("mousemove",s)}}})),O(e,c,"width",(()=>100-i+"%")),E(e,we,d,{$$:n}),L("m3s8k0t",".panels.m8pbzwt{display:flex;position:absolute;top:0;left:0;right:0;bottom:0}.right.m5gx5qs{border-left:1px solid var(--color-gray)}.devider.m490pha{width:10px;margin:0 -5px;z-index:100000;cursor:ew-resize}.dragging.mzcz0gh{width:100px;margin:0 -50px}"),o}}));let ke={list:{subscribe:V(null,(async e=>{e((await Ce()).sort(((e,t)=>Number(e.file.split("-")[0])-Number(t.file.split("-")[0]))))})).subscribe},async load(e){se.title("Example - Loading..."),e.endsWith(".json")||(e+=".json");const t=await Ce(e);J.set(t.files,{title:t.name}),ue.ready()&&ue.malina.load(),se.title("Example - "+t.name)}};let $e={};async function Ce(e){if(!$e[e=e||"index.json"])try{const t=await fetch(`examples/${e}`);if(!t.ok)throw new Error(`Example not found in ${e}`);$e[e]=await t.text()}catch(e){oe.set(e.message)}return JSON.parse($e[e])}var je=F(((e,t)=>{const n=y;let o;z(n,ke),z(n,se);let s="";ke.list.subscribe((e=>(t(),o=e))),se.subscribe((e=>{t(),s="example"===e[0]&&e[1]?e[1]:""}));{let e=n.$cd;const a=b(" \x3c!----\x3e");return H(e,a.childNodes[1],(()=>!o),x(" Loading examples list... "),g,b(" <select></select> "),((e,n)=>{let a=n.childNodes[1];r(e,a,"input",(e=>{se.go("/example/"+e.target.value),t()})),D(e,a,1,(()=>o),T,b("<option> </option>"),((e,t,n,r)=>{let o=e.cd,a=t.firstChild,l=a.firstChild;i(o,(()=>n.file),(e=>{a.value=e})),i(o,(()=>s===n.file),(e=>{a.selected=e})),_(o,l,(()=>n.name)),e.rebind=function(e,t){n=t}}))})),a}})),Ae=F(((e,t)=>{const n=y;{let e=n.$cd;const t=b(' <div class="mkgbs0h">\x3c!----\x3e <a href="https://github.com/malinajs/malinajs" target="_blank" class="mkgbs0h">GitHub</a></div> ');let i=t.childNodes[1].firstChild;{let t={name:"github"};E(e,W,i,{$$:n,props:t})}return L("mkgbs0h","div.mkgbs0h{padding:10px}a.mkgbs0h{text-decoration:none}"),t}}));let Ne={save:async()=>await async function(e){const t=JSON.stringify(e);try{const e=await fetch("https://repl.malina.workers.dev/gist",{method:"POST",headers:{"content-type":"application/json"},body:t});if(e.ok){const n=await e.json();if(!n.gid)throw new Error("Wrong answer from API");return Fe[n.gid]=t,n.gid}throw new Error("Error while saving your share. Try again.")}catch(e){return oe.set(e.message),null}}({files:J.get(),meta:J.meta.get()}),async load(e){se.title("Loading shared code...");const t=await async function(e){if(!Fe[e])try{const t=await fetch(`https://repl.malina.workers.dev/gist/${e}`,{method:"GET"});if(!t.ok)throw new Error("Error while loading shared code.");{const n=await t.json();if(0===n.length)throw new Error("Shared code not found.");n.files=n.files.map((e=>("App.html"!==e.name&&"App.ma"!==e.name||(e.name="App.xht"),e))),Fe[e]=JSON.stringify({meta:n.meta,files:n.files})}}catch(e){return oe.set(e.message),!1}return JSON.parse(Fe[e])}(e);if(t){if(J.set(t.files,t.meta),se.title(t.meta.title),ue.ready()){const e=t.meta.version||se.version();let n=ue.versions.get();n=n&&n.malina,e&&e!==n&&ue.malina.load(e)}}else{const e="Oops! Shared code not found!";J.set([{name:"App.html",body:"\x3c!-- Write something cool! --\x3e"}],{title:e}),se.title(e)}}};let Fe={};var Ee=F(((e,t)=>{const n=y;let i,o,s,a;z(n,J),z(n,se),z(n,ke),z(n,Ne),J.modified.subscribe((e=>(t(),i=e))),J.meta.subscribe((e=>{t(),o=e.title||"MalinaJS Application"})),se.subscribe((e=>{t(),s=e[0],a=e[1]}));let l=!1;{let e=n.$cd;const c=b(' <div style="float: left"><h1 class="mo895fu"> <img src="branding/malinajs_logo_notext.svg" class="mo895fu"/> malina.js </h1> <div class="m8e0jkn header">\x3c!----\x3e</div></div><div style="float: right">\x3c!----\x3e</div> ');let d=c.childNodes[1].firstChild,u=c.childNodes[1].childNodes[2].firstChild,p=c.childNodes[2].firstChild;return r(e,d,"click",(e=>{se.go(e),t()})),H(e,u,(()=>!("example"!==s||i)),b(" Select an example: \x3c!----\x3e "),((e,t)=>{let i=t.childNodes[1];E(e,je,i,{$$:n})}),b(' <span contenteditable="true" class="mewwr3i title"> </span> \x3c!----\x3e '),((e,n)=>{let c=n.childNodes[1],d=c.firstChild,u=n.childNodes[3];r(e,c,"blur",(e=>{!function(e){t();const n=e.target.innerText;n!==o&&(i=!0,J.meta.update({title:n}))}(e),t()})),_(e,d,(()=>o)),H(e,u,(()=>!!i),b(' <button class="mo895fu"> </button> <button class="mo895fu">Reset</button> '),((e,n)=>{let i=n.childNodes[1],o=i.firstChild,c=n.childNodes[3];r(e,i,"click",(e=>{!async function(){t(),l=!0;const e=await Ne.save();t(),se.go(`/share/${e}`),l=!1}(),t()})),_(e,o,(()=>l?"Saving...":"Share")),r(e,c,"click",(e=>{t(),"example"===s&&ke.load(a),"share"===s&&Ne.load(a),t()}))}))})),E(e,Ae,p,{$$:n}),L("mo895fu","h1.mo895fu{cursor:pointer;line-height:35px;font-weight:300}img.mo895fu{height:30px;margin:0 5px 5px 10px;vertical-align:middle}.header.m8e0jkn{margin-left:10px;height:55px;line-height:55px}.title.mewwr3i{border:1px solid rgb(0,0,0,0);padding:5px;font-size:24px;color:var(--color-light);margin-left:-5px}.title.mewwr3i:hover,.title.mewwr3i:focus{border-color:var(--color-gray)}button.mo895fu{height:24px;line-height:24px;padding:0 5px}"),c}})),ze=F(((e,t)=>{const i=y;z(i,J),z(i,ue);let o=null,s=!1,a=!1;function l(e){t();const n=e=>(t(),e.stopPropagation()),i=e=>(t(),a=!1);return e.addEventListener("click",n),addEventListener("click",i),{destroy(){t(),e.removeEventListener("click",n),window.removeEventListener("click",i)}}}ue.versions.subscribe((e=>{t(),o=e.malina}));{let e=i.$cd;const c=b(' <div class="mcdv4dj chooser">\x3c!----\x3e</div> \x3c!----\x3e ');let d=c.childNodes[1].firstChild,u=c.childNodes[3];return H(e,d,(()=>!!o),b(' <span class="meqz74o m73f6wu"> \x3c!----\x3e </span> '),((e,l)=>{let c=l.childNodes[1],d=c.firstChild,u=c.childNodes[1];r(e,c,"click",(e=>{!async function(){if(t(),a)return a=!1;s=null,a=!0,s=["unstable"].concat((await ue.malina.list()).sort(((e,n)=>{t();const[i,r]=[e,n].map((e=>e.replace(/\d+/g,(e=>(t(),+e+1e5)))));return r.localeCompare(i)}))),t()}(),t()})),S(e,c,(()=>!("unstable"!==o)),"warn"),_(e,d,(()=>" MalinaJS "+("unstable"===o?"Unstable!":"v."+o)+" "));{let t=g,r={name:"chevronDown"};f(n(e,(()=>a?-180:0),(e=>{r.rotate=e,t()}),{ro:!0,cmp:p}));let o=E(e,W,u,{$$:i,props:r});o&&(t=o.push)}}),x(" Loading compiler... "),g),H(e,u,(()=>!!a),b(' <div class="mufag7x dropdown">\x3c!----\x3e</div> '),((e,n)=>{let i=n.childNodes[1],c=i.firstChild;q(e,i,l),H(e,c,(()=>!!s),b(' <ul class="meqz74o"></ul> '),((e,n)=>{D(e,n.childNodes[1],1,(()=>s),T,b('<li class="meqz74o"> </li>'),((e,n,i,s)=>{let l=e.cd,c=n.firstChild,d=c.firstChild;r(l,c,"click",(e=>{var n;n=i,t(),a=!1,J.meta.update({version:n}),ue.malina.load(n),t()})),S(l,c,(()=>!(i!==o)),"active"),_(l,d,(()=>" "+("unstable"===i?"Unstable":"v."+i)+" ")),e.rebind=function(e,t){i=t}}))}),x(" Loading... "),g)})),L("meqz74o",".chooser.mcdv4dj{color:var(--color-gray)}span.meqz74o{cursor:pointer}.warn.m73f6wu{color:orange}.dropdown.mufag7x{position:absolute;bottom:39px;right:0px;width:130px;max-height:150px;overflow-y:auto;background-color:white;border:1px solid var(--color-gray);border-top-left-radius:3px;border-right:none}ul.meqz74o li.meqz74o{line-height:30px;text-align:left;list-style:none;padding-left:15px}ul.meqz74o li.meqz74o:hover{background-color:var(--color-lightest);cursor:pointer}ul.meqz74o li.active.meqz74o{background-color:var(--color-light)}"),c}})),Le=F(((e,t)=>{const n=y;z(n,oe);let i=null,r=null;oe.subscribe((e=>{t(),r=null,e&&(e=e.replace(/^\[(.+?)\] /,((e,n)=>(t(),r=n,"")))),i=e}));{let e=n.$cd;const t=b(' <div class="m85yjzf wrapper"><div class="m92yifd left">\x3c!----\x3e</div><div class="m2hrwir right">\x3c!----\x3e</div></div> ');let o=t.childNodes[1].firstChild.firstChild,s=t.childNodes[1].childNodes[1].firstChild;return H(e,o,(()=>!!i),b(' <p class="mv0bjqm">\x3c!----\x3e </p> '),((e,t)=>{let n=t.childNodes[1].firstChild,o=t.childNodes[1].childNodes[1];H(e,n,(()=>!!r),b('<span class="mv0bjqm"> </span>'),((e,t)=>{let n=t.firstChild.firstChild;_(e,n,(()=>r+":"))})),_(e,o,(()=>i))})),E(e,ze,s,{$$:n}),L("mv0bjqm",".wrapper.m85yjzf{display:flex;height:39px;flex-wrap:nowrap;width:100%}.left.m92yifd{flex-grow:1;flex-basis:0}.right.m2hrwir{width:200px;line-height:38px;margin:0 5px;text-align:right}p.mv0bjqm{line-height:38px;color:orange;margin:0 5px}span.mv0bjqm{color:var(--color-gray);margin-right:5px}"),t}}));const Se={async load(e){se.title("Loading shared code...");let t=null;try{const n=await fetch(`https://api.github.com/gists/${e}`,{method:"GET",headers:{"content-type":"application/json"}});n.ok&&(t=await n.json())}catch(e){console.error(e)}if(t){const e=Object.values(t.files).map((e=>({name:e.filename,body:e.content})));if(J.set(e,{title:t.description}),se.title(t.description),ue.ready()){const e=se.version();let t=ue.versions.get();t=t&&t.malina,e&&e!==t&&ue.malina.load(e)}}else J.set([{name:"App.xht",body:"\x3c!-- Write something cool! --\x3e"}],{title:""}),se.title("Oops! Error to load gist!")}};F(((e,t)=>{const n=y;z(n,ke),z(n,Ne),z(n,Se),z(n,se),se.subscribe((e=>{t(),"example"===e[0]&&e[1]?ke.load(e[1]):"share"===e[0]&&e[1]?Ne.load(e[1]):"gist"===e[0]&&e[1]?Se.load(e[1]):se.go("/example/1-hello-world")}));{let e=n.$cd;const t=b(' <div class="mdwjffd wrapper"><div class="mvf0bk1 header">\x3c!----\x3e</div><div class="m2veu86 body">\x3c!----\x3e</div><div class="mb9cq5j footer">\x3c!----\x3e</div></div> ');let i=t.childNodes[1].firstChild.firstChild,r=t.childNodes[1].childNodes[1].firstChild,o=t.childNodes[1].childNodes[2].firstChild;return E(e,Ee,i,{$$:n}),E(e,ye,r,{$$:n}),E(e,Le,o,{$$:n}),L("mgcv0ae",".wrapper.mdwjffd{display:flex;min-height:100vh;flex-direction:column}.header.mvf0bk1{height:90px;border-bottom:1px solid var(--color-gray);background-color:var(--color-lightest)}.body.m2veu86{flex-grow:1;flex-basis:0;position:relative}.footer.mb9cq5j{border-top:1px solid var(--color-gray);height:40px}"),t}}))(document.body)}();
