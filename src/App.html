<script>
    import Editor from './cmp/editor/Editor.html';
    import Filestabs from './cmp/editor/Filestabs.html';
    import Result from './cmp/result/Result.html';
    import ResultTabs from './cmp/result/ResultTabs.html';
    import Examples from './cmp/ExamplesList.html';
    import Github from './cmp/Github.html';
    import Footer from './cmp/Footer.html';

    import {examples} from './stores/examples.js';
    import {router} from './stores/router.js';

    router.subscribe( slugs => {
        if(slugs[0]==='example' && slugs[1]){
            examples.load(slugs[1]);
        }else{
            router.go('/example/1-hello-world'); 
        }
    });
    
</script>

<div class="wrapper">
    <div class="header">
        <div style="float: left">
            <h1 class="logo">MalinaJS</h1>
            <div class="examples">
                Select an example: <Examples></Examples>
            </div>
        </div>
        <div style="float: right">
            <Github></Github>
        </div>
    </div>
    <div class="body">
        <div class="left"><Editor></Editor></div>
        <div class="right"><Result></Result></div>
    </div>
    <div class="footer"><Footer></Footer></div>
</div>

<style>
    .wrapper{
        display: flex;
        min-height: 100vh;
        flex-direction: column;
    }

    .header{
        height: 90px;
        border-bottom: 1px solid var(--color-gray);
        background-color: var(--color-lightest);
    }

    .body{
        display: flex;
        flex-grow: 1;
    }
    .left{
        width: 60%;
        border-right: 1px solid var(--color-gray);
    }

    .right{
        flex-grow: 1;
        flex-basis: 0;
    }

    .footer{
        border-top: 1px solid var(--color-gray);
        height: 40px;
    }

    .logo,.examples{
        margin-left: 10px;
    }
</style>