{"name":"Todo app","files":[{"name":"App.xht","body":"<script>\n  let name = '';\n  let todos = [{name: 'first task'}, {name: 'second task', done: true}];\n  let active;\n\n  function add() {\n    if(!name) return;\n    todos.push({name: name});\n    name = '';\n  }\n\n  const remove = i => todos.splice(i, 1);\n  const numDone = () => todos.filter(t => t.done).length;\n</script>\n\n{#if active}\n  Edit: <input type=\"text\" @keydown|enter={active=null} :value={active.name} *{$element.focus()} />\n{:else}\n  <input type=\"text\" @keydown|enter={add()} bind:value={name} />\n{/if}\n\n<ul>\n  {#each todos as todo, i}\n    <li class:active={todo == active} class:inactive={todo.done}>\n      <input type=\"checkbox\" bind:checked={todo.done} />\n      <span @click={active=todo}>{i}:  {todo.name}</span>\n      <a href @click|preventDefault={remove(i)}>remove</a>\n    </li>\n  {/each}\n</ul>\n\nTotal done: {numDone()} of {todos.length}\n\n<style>\n  li {cursor: pointer;}\n  .active {background-color: #cfc;}\n  .inactive {text-decoration-line: line-through; color: gray;}\n</style>"}]}